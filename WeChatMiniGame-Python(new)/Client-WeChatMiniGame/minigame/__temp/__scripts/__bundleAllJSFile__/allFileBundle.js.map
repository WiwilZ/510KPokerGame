{"version":3,"sources":[".buildin/Editor/defaultAssets/script.ts",".buildin/Editor/defaultAssets/scriptableasset.ts",".buildin/Editor/loadingScene/common/Utils.ts",".buildin/Editor/loadingScene/progressbar/scripts/UIProgressBar.ts",".buildin/Editor/loadingScene/script/loadMainScenes.ts",".buildin/Editor/loadingScene/script/retryBtn.ts",".buildin/Editor/tutorial/default-tutorial-hooks.ts",".buildin/Editor/tutorial/skybox-criterion.ts","__temp/__scripts/miniprogram_npm/engine/index.js","index.js","tslib.js","Scripts/CreateRoom.ts","Scripts/Databus.ts","Scripts/ExitRoom.ts","Scripts/GameServer.ts","Scripts/GlobalManager.ts","Scripts/Invite.ts","Scripts/MatchRoom.ts","Scripts/MyBattle.ts","Scripts/MyHandCard.ts","Scripts/MyInfo.ts","Scripts/MyScore.ts","Scripts/PlayerBankerCard.ts","Scripts/PlayerBattle.ts","Scripts/PlayerInfo.ts","Scripts/PlayerRemainingCardCount.ts","Scripts/TeamPlayResult.ts","Scripts/utils.ts"],"names":["engine","GameGlobal","module","exports"],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AChVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","file":"bundle.js","sourcesContent":["\nimport engine from \"engine\";\n@engine.decorators.serialize(\"__DefaultEmptyScript\")\nexport default class __DefaultEmptyScript extends engine.Script {\n  // public onDeserialized(data: any, context: any, builtContext: any): void {\n  //   this.__jsonData = data;\n  // }\n\n  // public onSerialized(this: any/*SerializedObject*/, dataJson) {\n  //   if (this.targetObject.__jsonData) {\n  //     Object.keys(this.targetObject.__jsonData).forEach((key) => {\n  //       dataJson[key] = this.targetObject.__jsonData[key];\n  //     })\n  //   }\n  // }\n\n  public __missing = true;\n  // public __jsonData = null;\n\n  public onAwake() {\n\n  }\n  public onUpdate(dt) {\n\n  }\n  public onDestroy() {\n\n  }\n}\n","import engine from \"engine\";\n\n@engine.decorators.serialize(\"MissingScriptableAsset\")\nexport default class DefaultScriptableAsset extends engine.ScriptableAsset {\n  public __content\n  public __meta\n  public __missing = true\n\n  public static DeserializeResource(content, meta) {\n    const sa = new DefaultScriptableAsset()\n    sa.__content = content\n    sa.__meta = meta\n    return sa\n  }\n\n  public changeUuid(uuid) {\n    this.__meta._scriptuuid = uuid\n  }\n\n  public SerializeResource() {\n    return {\n      content: {\n        content: this.__content,\n        meta: this.__meta,\n      },\n      meta: {},\n    }\n  }\n}\n","import engine from 'engine'\n\nexport default class Utils {\n\n  public static getChildByName(entity: engine.Entity, name: string): engine.Entity {\n    const childrenCount = entity.transform2D.childrenCount;\n    const childList = entity.transform2D.children;\n    for (let i = 0; i < childrenCount; i++) {\n      let child = childList[i].entity;\n      if (child.name === name) {\n        return child;\n      }\n    }\n    let result = null\n    for (let i = 0; i < childrenCount; i++) {\n      let child = childList[i].entity;\n      result = this.getChildByName(child, name)\n    }\n    return result\n  }\n\n  public static clamp(value: number, min: number, max: number): number {\n    if (value < min)\n      value = min;\n    else if (value > max)\n      value = max;\n    return value;\n  }\n\n  public static clamp01(value: number): number {\n    if (isNaN(value)) {\n      value = 0;\n    } else if (value > 1) {\n      value = 1;\n    } else if (value < 0) {\n      value = 0;\n    }\n    return value;\n  }\n}","import engine from 'engine'\nimport Utils from '../../common/Utils'\n\nconst TypeNames = engine.TypeNames\n\n@engine.decorators.serialize('UIKitProgressBar')\nexport default class UIKitProgressBar extends engine.Script {\n  private _min: number = 0;\n  private _max: number = 100;\n  private _value: number = 50;\n  private _dirty = true;\n\n  private _barMaxWidth: number = 0;\n  private _barMaxWidthDelta: number = 0;\n  private _bar: any = null;\n  private _uiWidget: engine.UIWidget;\n\n  @engine.decorators.property({\n    type: TypeNames.Number,\n  })\n  public get min(): number {\n    return this._min;\n  }\n  public set min(value: number) {\n    if (this._min != value) {\n      this._min = value;\n      this._dirty = true;\n    }\n  }\n\n  @engine.decorators.property({\n    type: TypeNames.Number,\n  })\n  public get max(): number {\n    return this._max;\n  }\n  public set max(value: number) {\n    if (this._max != value) {\n      this._max = value;\n      this._dirty = true;\n    }\n  }\n\n  @engine.decorators.property({\n    type: TypeNames.Number,\n  })\n  public get value(): number {\n    return this._value;\n  }\n  public set value(value: number) {\n    if (this._value != value) {\n      this._value = value;\n      this._dirty = true;\n    }\n  }\n\n  public onAwake() {\n    this._bar = Utils.getChildByName(this.entity, 'Progress_Bar')\n    if (this._bar.transform2D.isRectTransform) {\n      // isRectTransform uiwidget\n    } else {\n      let uiWidget = this._bar.getComponent(engine.UIWidget)\n      if (!uiWidget) {\n        uiWidget = this._bar.addComponent(engine.UIWidget)\n        uiWidget.leftAnchor = 0\n        uiWidget.topAnchor = 1\n        uiWidget.rightAnchor = 1\n        uiWidget.bottomAnchor = 0\n      }\n      this._uiWidget = uiWidget;\n    }\n\n    const barObjectHTransform = this._bar.transform2D;\n    this._barMaxWidth = barObjectHTransform.sizeX;\n    this._barMaxWidthDelta = this.entity.transform2D.sizeX - this._barMaxWidth;\n    if (this._dirty) {\n      this.update();\n    }\n  }\n\n  public onUpdate() {\n    if (this._dirty) {\n      this.update();\n    }\n  }\n\n  public update(): void {\n    this.updateWithPercent((this._value - this._min) / (this._max - this._min));\n  }\n\n  private updateWithPercent(percent: number): void {\n    this._dirty = false;\n    percent = Utils.clamp01(percent)\n    const bar = this._bar\n    const fullWidth: number = this.entity.transform2D.sizeX - this._barMaxWidthDelta;\n    if (bar.transform2D.isRectTransform) {\n      bar.transform2D.rightOffset = -Math.round(fullWidth * (1 - percent));\n    } else {\n      if (this._uiWidget) {\n        this._uiWidget.rightOffset = -Math.round(fullWidth * (1 - percent));\n      }\n    }\n  }\n}","import UIProgressBar from '../progressbar/scripts/UIProgressBar'\nimport LoadTask from '!!Only Export Engine Module, Cant Use Internal Moduleengine/assets/load-task';\nimport engine from \"engine\";\n\nenum ELoadStatus {\n  loading,\n  success,\n  fail,\n}\n\n@engine.decorators.serialize(\"loadMainScenes\")\nexport default class loadMainScenes extends engine.Script {\n  @engine.decorators.property({\n    type: engine.Transform2D\n  })\n  public retryBtn: engine.Transform2D\n\n  @engine.decorators.property({\n    type: engine.TypeNames.String\n  })\n  public percent: number = 0\n\n  public finishLoading: boolean = false\n  private lt3d: LoadTask<unknown> | undefined\n  private lt2d: LoadTask<unknown> | undefined\n  private scene2dLoadingStatus: ELoadStatus = ELoadStatus.loading\n  private scene3dLoadingStatus: ELoadStatus = ELoadStatus.loading\n  private game2dScene: engine.Scene\n  private game3dScene: engine.Scene\n\n  public async onAwake() {\n    this.loadMainScene()\n  }\n\n  public loadMainScene() {\n    // @ts-ignore\n    const main3DsceneKey = GameGlobal.__main3DsceneKey\n    // @ts-ignore\n    const main2DsceneKey = GameGlobal.__main2DsceneKey\n\n    if (!main3DsceneKey) {\n      this.scene3dLoadingStatus = ELoadStatus.success\n    } else if (this.scene3dLoadingStatus !== ELoadStatus.success) {\n      this.lt3d = engine.loader.load(main3DsceneKey)\n      this.lt3d.promise.then((_game3dScene) => {\n        this.game3dScene = _game3dScene as engine.Scene\n        this.scene3dLoadingStatus = ELoadStatus.success\n        this.checkResult()\n      }, () => {\n        this.scene3dLoadingStatus = ELoadStatus.fail\n        this.checkResult()\n      })\n    }\n\n    if (!main2DsceneKey) {\n      this.scene2dLoadingStatus = ELoadStatus.success\n    } else if (this.scene2dLoadingStatus !== ELoadStatus.success) {\n      this.lt2d = engine.loader.load(main2DsceneKey)\n      this.lt2d.promise.then((_game2dScene) => {\n        this.game3dScene = _game2dScene as engine.Scene\n        this.scene2dLoadingStatus = ELoadStatus.success\n        this.checkResult()\n      }, () => {\n        this.scene2dLoadingStatus = ELoadStatus.fail\n        this.checkResult()\n      })\n    }\n\n    this.checkResult()\n  }\n\n  private checkResult() {\n    if (this.scene2dLoadingStatus === ELoadStatus.loading || this.scene3dLoadingStatus === ELoadStatus.loading) {\n      return\n    }\n    if (this.scene2dLoadingStatus === ELoadStatus.fail || this.scene3dLoadingStatus === ELoadStatus.fail) {\n      this.retry()\n      return\n    }\n    engine.game.clearScene(true, true)\n    if (this.game2dScene) {\n      engine.game.playScene(this.game2dScene)\n    }\n    if (this.game3dScene) {\n      engine.game.playScene(this.game3dScene)\n    }\n  }\n\n  public retry() {\n    if (this.retryBtn) {\n      this.retryBtn.active = true\n    }\n  }\n\n  public retryLoading() {\n    this.loadMainScene()\n  }\n\n  public onUpdate(dt) {\n    // if (this.scene2dLoadingStatus !== ELoadStatus.loading && this.scene3dLoadingStatus !== ELoadStatus.loading) {\n    //   return\n    // }\n    let lt2dv = 0\n    let lt3dv = 0\n    if (!this.lt2d) {\n      lt2dv = 1\n    } else {\n      const p = this.lt2d.progress\n      lt2dv = p.current / p.total\n    }\n\n    if (!this.lt3d) {\n      lt3dv = 1\n    } else {\n      const p = this.lt3d.progress\n      lt3dv = p.current / p.total\n    }\n\n    this.percent = (lt2dv + lt3dv) * 0.5 * 100\n    const barComp = this.entity.getComponent<UIProgressBar>(UIProgressBar)\n    barComp.value = this.percent\n  }\n\n  public onDestroy() {\n\n  }\n}\n","\nimport engine from \"engine\";\nimport loadMainScenes from './loadMainScenes'\n\n@engine.decorators.serialize(\"retryBtn\")\nexport default class retryBtn extends engine.Script {\n  @engine.decorators.property({\n    type: engine.TypeNames.String\n  })\n  public name: string = \"myname\"\n\n  @engine.decorators.property({\n    type: loadMainScenes\n  })\n  public loadMainScenesComp: loadMainScenes\n\n  public onClick() {\n    this.entity.transform2D.active = false\n    if (this.loadMainScenesComp) {\n      this.loadMainScenesComp.retryLoading()\n    }\n  }\n  \n  public onAwake() {\n\n  }\n  public onUpdate(dt) {\n\n  }\n  public onDestroy() {\n\n  }\n}\n","\n// import EngineTutorial from 'EngineTutorial'\n// @ts-ignore\nconst EngineTutorial = window.__tutorial__\n\ninterface IHookArgs {\n  [key: string]: any\n}\n\nexport default class demoHooks extends EngineTutorial.Hooks {\n\n  @EngineTutorial.decorators.Hooks('searchProject', \"engineIDEView\", {\n    args: [\"fileName\"]\n  })\n  async searchProject() {\n    // @ts-ignore\n    const { hookArgs, gameEditor } = this.ReferenceObjects\n    const searchStr =  hookArgs.fileName\n    gameEditor.assets.searchAsset(searchStr)\n    // \n    await new Promise((resolve => {\n      setTimeout(() => {\n        resolve({})\n      }, 100)\n    }))\n  }\n\n  @EngineTutorial.decorators.Hooks('searchEntity', \"engineIDEView\", {\n    args: [\"entityName\"]\n  })\n  async searchEntity() {\n    // @ts-ignore\n    const { hookArgs, gameEditor } = this.ReferenceObjects\n    const searchStr = hookArgs.entityName\n    gameEditor.hierarchy.searchEntity(searchStr)\n    // \n    await new Promise((resolve => {\n      setTimeout(() => {\n        resolve({})\n      }, 100)\n    }))\n  }\n\n  @EngineTutorial.decorators.Hooks('locateHierarchyEntityByName', \"engineIDEView\", {\n    args: [\"entityName\"]\n  })\n  async locateEntityByName() {\n    // @ts-ignore\n    const { hookArgs, gameEditor } = this.ReferenceObjects\n    const entityName = hookArgs.entityName\n    gameEditor.hierarchy.locateEntityByName(entityName)\n  }\n\n  @EngineTutorial.decorators.Hooks('locateProjectFileByPath', \"engineIDEView\", {\n    args: [\"filePath\"]\n  })\n  async locateProjectFileByPath() {\n    // @ts-ignore\n    const { hookArgs, gameEditor } = this.ReferenceObjects\n    const filePath = hookArgs.filePath\n    await gameEditor.assets.locateProjectFileByPath(filePath)\n  }\n\n  @EngineTutorial.decorators.Hooks('openFileBySystemDefaultProgramFromProjectPath', \"engineIDEView\", {\n    args: [\"filePath\"]\n  })\n  async openFileBySystemDefaultProgramFromProjectPath() {\n    // @ts-ignore\n    const { hookArgs, gameEditor } = this.ReferenceObjects\n    const filePath = hookArgs.filePath || \"\"\n    await gameEditor.project.openFileBySystemDefaultProgramFromProjectPath(filePath)\n  }\n\n}\n","// import EngineTutorial from 'EngineTutorial'\n// @ts-ignore\nconst EngineTutorial = window.__tutorial__\n@EngineTutorial.decorators.Criterion('skyBoxCriterion', \"engineIDEView\", {})\nexport default class SkyboxCriterion extends EngineTutorial.Criterion {\n\n  async evaluateCompletion() {\n    // @ts-ignore\n    const { gameEditor }  = this.ReferenceObjects\n    // \n    const settings = await gameEditor.scene.getSceneSettings()\n    const isCompleted = settings.ambientMode === 0 && (settings.skyBox && settings.skyBox.resourceID === \"599fefR-48c774E-522080S-c79bc3R\")\n    this.completed = isCompleted\n  }\n\n}\n\n","var engine = GameGlobal.engine;\n    module.exports = engine","\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n/* global global, define, System, Reflect, Promise */\nvar __extends;\nvar __assign;\nvar __rest;\nvar __decorate;\nvar __param;\nvar __metadata;\nvar __awaiter;\nvar __generator;\nvar __exportStar;\nvar __values;\nvar __read;\nvar __spread;\nvar __spreadArrays;\nvar __await;\nvar __asyncGenerator;\nvar __asyncDelegator;\nvar __asyncValues;\nvar __makeTemplateObject;\nvar __importStar;\nvar __importDefault;\nvar __classPrivateFieldGet;\nvar __classPrivateFieldSet;\n(function (factory) {\n    var root = typeof global === \"object\" ? global : typeof self === \"object\" ? self : typeof this === \"object\" ? this : {};\n    if (typeof define === \"function\" && define.amd) {\n        define(\"tslib\", [\"exports\"], function (exports) { factory(createExporter(root, createExporter(exports))); });\n    }\n    else if (typeof module === \"object\" && typeof module.exports === \"object\") {\n        factory(createExporter(root, createExporter(module.exports)));\n    }\n    else {\n        factory(createExporter(root));\n    }\n    function createExporter(exports, previous) {\n        if (exports !== root) {\n            if (typeof Object.create === \"function\") {\n                Object.defineProperty(exports, \"__esModule\", { value: true });\n            }\n            else {\n                exports.__esModule = true;\n            }\n        }\n        return function (id, v) { return exports[id] = previous ? previous(id, v) : v; };\n    }\n})\n(function (exporter) {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n\n    __extends = function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n\n    __assign = Object.assign || function (t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n\n    __rest = function (s, e) {\n        var t = {};\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n            t[p] = s[p];\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                    t[p[i]] = s[p[i]];\n            }\n        return t;\n    };\n\n    __decorate = function (decorators, target, key, desc) {\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\n    };\n\n    __param = function (paramIndex, decorator) {\n        return function (target, key) { decorator(target, key, paramIndex); }\n    };\n\n    __metadata = function (metadataKey, metadataValue) {\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n    };\n\n    __awaiter = function (thisArg, _arguments, P, generator) {\n        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\n\n    __generator = function (thisArg, body) {\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n        function verb(n) { return function (v) { return step([n, v]); }; }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_) try {\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n                if (y = 0, t) op = [op[0] & 2, t.value];\n                switch (op[0]) {\n                    case 0: case 1: t = op; break;\n                    case 4: _.label++; return { value: op[1], done: false };\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                    default:\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                        if (t[2]) _.ops.pop();\n                        _.trys.pop(); continue;\n                }\n                op = body.call(thisArg, _);\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\n\n    __exportStar = function (m, exports) {\n        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n    };\n\n    __values = function (o) {\n        var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n        if (m) return m.call(o);\n        if (o && typeof o.length === \"number\") return {\n            next: function () {\n                if (o && i >= o.length) o = void 0;\n                return { value: o && o[i++], done: !o };\n            }\n        };\n        throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n    };\n\n    __read = function (o, n) {\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n        if (!m) return o;\n        var i = m.call(o), r, ar = [], e;\n        try {\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n        }\n        catch (error) { e = { error: error }; }\n        finally {\n            try {\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\n            }\n            finally { if (e) throw e.error; }\n        }\n        return ar;\n    };\n\n    __spread = function () {\n        for (var ar = [], i = 0; i < arguments.length; i++)\n            ar = ar.concat(__read(arguments[i]));\n        return ar;\n    };\n\n    __spreadArrays = function () {\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n        for (var r = Array(s), k = 0, i = 0; i < il; i++)\n            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n                r[k] = a[j];\n        return r;\n    };\n\n    __await = function (v) {\n        return this instanceof __await ? (this.v = v, this) : new __await(v);\n    };\n\n    __asyncGenerator = function (thisArg, _arguments, generator) {\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n        var g = generator.apply(thisArg, _arguments || []), i, q = [];\n        return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n        function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\n        function fulfill(value) { resume(\"next\", value); }\n        function reject(value) { resume(\"throw\", value); }\n        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n    };\n\n    __asyncDelegator = function (o) {\n        var i, p;\n        return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\n    };\n\n    __asyncValues = function (o) {\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n        var m = o[Symbol.asyncIterator], i;\n        return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n    };\n\n    __makeTemplateObject = function (cooked, raw) {\n        if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n        return cooked;\n    };\n\n    __importStar = function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n        result[\"default\"] = mod;\n        return result;\n    };\n\n    __importDefault = function (mod) {\n        return (mod && mod.__esModule) ? mod : { \"default\": mod };\n    };\n\n    __classPrivateFieldGet = function (receiver, privateMap) {\n        if (!privateMap.has(receiver)) {\n            throw new TypeError(\"attempted to get private field on non-instance\");\n        }\n        return privateMap.get(receiver);\n    };\n\n    __classPrivateFieldSet = function (receiver, privateMap, value) {\n        if (!privateMap.has(receiver)) {\n            throw new TypeError(\"attempted to set private field on non-instance\");\n        }\n        privateMap.set(receiver, value);\n        return value;\n    }\n\n    exporter(\"__extends\", __extends);\n    exporter(\"__assign\", __assign);\n    exporter(\"__rest\", __rest);\n    exporter(\"__decorate\", __decorate);\n    exporter(\"__param\", __param);\n    exporter(\"__metadata\", __metadata);\n    exporter(\"__awaiter\", __awaiter);\n    exporter(\"__generator\", __generator);\n    exporter(\"__exportStar\", __exportStar);\n    exporter(\"__values\", __values);\n    exporter(\"__read\", __read);\n    exporter(\"__spread\", __spread);\n    exporter(\"__spreadArrays\", __spreadArrays);\n    exporter(\"__await\", __await);\n    exporter(\"__asyncGenerator\", __asyncGenerator);\n    exporter(\"__asyncDelegator\", __asyncDelegator);\n    exporter(\"__asyncValues\", __asyncValues);\n    exporter(\"__makeTemplateObject\", __makeTemplateObject);\n    exporter(\"__importStar\", __importStar);\n    exporter(\"__importDefault\", __importDefault);\n    exporter(\"__classPrivateFieldGet\", __classPrivateFieldGet);\n    exporter(\"__classPrivateFieldSet\", __classPrivateFieldSet);\n});\n","import engine from \"engine\";\n\n\n@engine.decorators.serialize(\"CreateRoom\")\nexport default class CreateRoom extends engine.Script {\n    public onClick() {\n        engine.game.customEventEmitter.emit('create_room');\n    }\n}\n","import engine from \"engine\";\r\n\r\n\r\nexport const databus: {\r\n    nickname: string,\r\n    avatarUrl: string,\r\n    openid: string,\r\n    roomNo: string,\r\n    mySeat: number,\r\n    playerInfoList: {\r\n        avatar: engine.SpriteFrame,\r\n        nickname: string\r\n    }[],\r\n    bankerCard: number,\r\n    cardSpriteFrames: engine.SpriteFrame[]\r\n} = {\r\n    nickname: '',\r\n    avatarUrl: '',\r\n    openid: '',\r\n    roomNo: '',\r\n    mySeat: -1,\r\n    playerInfoList: [],\r\n    bankerCard: -1,\r\n    cardSpriteFrames: []\r\n};","import engine from \"engine\";\n\n\n@engine.decorators.serialize(\"ExitRoom\")\nexport default class ExitRoom extends engine.Script {\n    public onClick() {\n        wx.showModal({\n            title: '',\n            content: '',\n            success: res => {\n                res.confirm && engine.game.customEventEmitter.emit('exit_room');\n            }\n        });\n    }\n}\n","export default class GameServer {\r\n    private socketTask: WechatMinigame.SocketTask = null;\r\n    private url = 'wss://wiwilz.cn';\r\n\r\n    public constructor(private nickname, private avatarUrl, private openid, private onMessageCallback) {\r\n    }\r\n\r\n    public get isOpen() {\r\n        return this.socketTask && this.socketTask.readyState === this.socketTask.OPEN;\r\n    }\r\n\r\n    public connect(event) {\r\n        this.socketTask = wx.connectSocket({\r\n            url: this.url,\r\n            header: {\r\n                Authorization: JSON.stringify({\r\n                    nickname: encodeURI(this.nickname),\r\n                    avatar_url: this.avatarUrl,\r\n                    openid: this.openid,\r\n                    event\r\n                })\r\n            }\r\n        });\r\n        this.socketTask.onOpen(res => {\r\n            console.log('WebSocket ', res);\r\n        });\r\n        this.socketTask.onError(res => {\r\n            console.log('WebSocket ', res);\r\n        });\r\n        this.socketTask.onClose(res => {\r\n            console.log('WebSocket ', res);\r\n            this.socketTask = null;\r\n        });\r\n        this.socketTask.onMessage(res => {\r\n            this.onMessageCallback(JSON.parse(res.data as string));\r\n        });\r\n    }\r\n\r\n    public sendMessage(msg) {\r\n        return new Promise((resolve, reject) => {\r\n            if (this.socketTask === null) {\r\n                console.log('send message fail');\r\n                reject();\r\n            } else {\r\n                this.socketTask.send({\r\n                    data: JSON.stringify(msg),\r\n                    success: () => {\r\n                        console.log('send message:', msg);\r\n                        resolve();\r\n                    },\r\n                    fail: () => {\r\n                        console.log('send message fail');\r\n                        reject();\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    public close() {\r\n        this.socketTask && this.socketTask.close({});\r\n        this.socketTask = null;\r\n        console.log('websocket close');\r\n    }\r\n}","import engine from \"engine\";\nimport { databus } from \"./Databus\";\nimport GameServer from \"./GameServer\";\nimport { urlToSpriteFrame } from \"./utils\";\n\n\n@engine.decorators.serialize(\"GlobalManager\")\nexport default class GlobalManager extends engine.Script {\n    @engine.decorators.property({\n        type: engine.TypeNames.Scene,\n        required: true\n    })\n    public homeScene: engine.Scene;\n\n    @engine.decorators.property({\n        type: engine.TypeNames.Scene,\n        required: true\n    })\n    public roomScene: engine.Scene;\n\n    @engine.decorators.property({\n        type: engine.Atlas,\n        required: true\n    })\n    public cardAtlas: engine.Atlas;\n\n    private gameServer: GameServer = null;\n\n    private APPID = 'wx76fd3cf02125f9e2';\n    private SECRET = '445898eda089aa3a1357a6e40d7d1cda';\n\n\n    public onAwake() {\n        engine.game.markAsPersist(this.entity);\n        wx.setEnableDebug({ enableDebug: true });\n\n        wx.onHide(this.onHide.bind(this));\n        wx.onShow(this.onShow.bind(this));\n\n        this.getUserInfo().then(({ nickName, avatarUrl }) => {\n            console.log('get nickname:', nickName);\n            databus.nickname = nickName;\n            databus.avatarUrl = avatarUrl;\n            urlToSpriteFrame(avatarUrl);\n\n            this.getOpenid().then(openid => {\n                console.log('get openid:', openid);\n                databus.openid = openid;\n\n                this.gameServer = new GameServer(nickName, avatarUrl, openid, this.onMessage.bind(this));\n\n                engine.game.playScene(this.homeScene);\n                console.log(engine.game.activeScene2D.root.name);\n            });\n        });\n\n        engine.game.customEventEmitter.on('match_room', this.matchRoom.bind(this));\n        engine.game.customEventEmitter.on('create_room', this.createRoom.bind(this));\n        engine.game.customEventEmitter.on('exit_room', this.exitRoom.bind(this));\n        engine.game.customEventEmitter.on('change_banker_card', (data, success) => this.gameServer.sendMessage({ type: 'change_banker_card', data }).then(success));\n        engine.game.customEventEmitter.on('play', (data, success) => this.gameServer.sendMessage({ type: 'play', data }).then(success));\n\n        for (let i = 0; i < 52; i++) {\n            databus.cardSpriteFrames[i] = this.cardAtlas.getSpriteframeByKey(`Sprites/Poker/${i}.png`);\n        }\n    }\n\n    public onDestroy() {\n        this.gameServer.close();\n    }\n\n    private onHide() {\n        this.gameServer.isOpen && this.gameServer.sendMessage({ type: 'hide' });\n    }\n\n    private onShow(res) {\n        const roomNo = res.query.roomNo;\n        console.log('onShow roomNo:', roomNo);\n\n        if (databus.roomNo === '') {\n            roomNo !== undefined && this.joinRoom(roomNo);\n        } else {\n            if (roomNo === undefined || databus.roomNo === roomNo) {\n                this.gameServer.sendMessage({ type: 'show' }).catch(this.reconnect.bind(this));\n            } else {\n                this.gameServer.sendMessage({ type: 'show' }).then(() => {\n                    wx.showModal({\n                        title: '',\n                        content: '',\n                        success: res => {\n                            res.confirm && this.gameServer.sendMessage({\n                                type: 'join_room',\n                                data: {\n                                    room_no: roomNo\n                                }\n                            });\n                        }\n                    });\n                }).catch(() => {\n                    wx.showModal({\n                        title: '',\n                        content: '',\n                        success: res => {\n                            if (res.confirm) {\n                                this.joinRoom(roomNo);\n                            } else {\n                                this.reconnect();\n                            }\n                        }\n                    });\n                });\n            }\n        }\n    }\n\n    private getUserInfo() {\n        return new Promise<{ nickName: string, avatarUrl: string }>((resolve, reject) => {\n            wx.getUserInfo({\n                success: res => resolve(res.userInfo),\n                fail: () => wx.getUserProfile({\n                    desc: '',\n                    success: res => resolve(res.userInfo),\n                    fail: err => reject(err)\n                })\n            });\n        });\n    }\n\n    private getOpenid() {\n        return new Promise<string>((resolve, reject) => {\n            wx.login({\n                success: res => wx.request({\n                    url: 'https://api.weixin.qq.com/sns/jscode2session',\n                    data: {\n                        appid: this.APPID,\n                        secret: this.SECRET,\n                        js_code: res.code,\n                        grant_type: 'authorization_code'\n                    },\n                    success: res => resolve(res.data.openid),\n                    fail: err => reject(err)\n                }),\n                fail: err => reject(err)\n            });\n        });\n    }\n\n    private matchRoom() {\n        wx.showLoading({\n            title: '...',\n            mask: true\n        });\n        this.gameServer.connect({ type: 'match_room' });\n    }\n\n    private createRoom() {\n        wx.showLoading({\n            title: '...',\n            mask: true\n        });\n        this.gameServer.connect({ type: 'create_room' });\n    }\n\n    private joinRoom(room_no: string) {\n        wx.showLoading({\n            title: '...',\n            mask: true\n        });\n        this.gameServer.connect({\n            type: 'join_room',\n            data: {\n                room_no\n            }\n        });\n    }\n\n    private exitRoom() {\n        engine.game.playScene(this.homeScene);\n        this.gameServer.close();\n        databus.roomNo = '';\n        databus.playerInfoList = [];\n    }\n\n    private reconnect() {\n        wx.showLoading({\n            title: '...',\n            mask: true\n        });\n        this.gameServer.connect({ type: 'reconnect' });\n    }\n\n    private onMessage({ type, data }) {\n        console.log('receive event', type, data);\n        switch (type) {\n            case 'match_room_result':\n                databus.roomNo = data.room_no;\n                databus.mySeat = data.my_seat;\n                this.gameServer.sendMessage({ type: 'get_players_info' });\n                break;\n            case 'create_room_result':\n                databus.roomNo = data.room_no;\n                databus.mySeat = 0;\n                this.gameServer.sendMessage({ type: 'get_players_info' });\n                break;\n            case 'join_room_result':\n                if (data.error_msg) {\n                    this.exitRoom();\n                    wx.hideLoading();\n                    wx.showModal({\n                        title: '',\n                        content: data.error_msg,\n                        showCancel: false\n                    });\n                } else {\n                    databus.roomNo = data.room_no;\n                    databus.mySeat = data.my_seat;\n                    this.gameServer.sendMessage({ type: 'get_players_info' });\n                }\n                break;\n\n            case 'reconnect_result':\n                wx.hideLoading();\n                if (data.error_msg) {\n                    this.exitRoom();\n                    wx.showModal({\n                        title: '',\n                        content: data.error_msg,\n                        showCancel: false\n                    });\n                } else if (data.battle_state) {\n\n                } else {\n                    databus.mySeat = data.my_seat;\n                    urlToSpriteFrame(databus.avatarUrl).then(avatar => {\n                        databus.playerInfoList[databus.mySeat] = {\n                            avatar,\n                            nickname: databus.nickname\n                        };\n                        engine.game.customEventEmitter.emit('get_players_info', data);\n                    });\n                }\n                break;\n\n            case 'get_players_info_result':\n                urlToSpriteFrame(databus.avatarUrl).then(avatar => {\n                    databus.playerInfoList[databus.mySeat] = {\n                        avatar,\n                        nickname: databus.nickname\n                    };\n                    engine.game.playScene(this.roomScene);\n                    engine.game.customEventEmitter.emit(type, data);\n                    wx.hideLoading();\n                    data.player_count === 4 && this.gameServer.sendMessage({ type: 'start' });\n                });\n                break;\n\n            case 'player_enter':\n            case 'player_exit':\n            case 'player_change_banker_card':\n            case 'player_play':\n                engine.game.customEventEmitter.emit(type, data);\n                break;\n\n            case 'deal':\n                wx.hideLoading();\n                wx.showToast({\n                    title: '',\n                    icon: 'loading',\n                    duration: 1500,\n                    mask: true\n                });\n                setTimeout(() => {\n                    engine.game.customEventEmitter.emit(type, data);\n                }, 1300);\n                break;\n        }\n    }\n\n\n}\n","import engine from \"engine\";\nimport { invite } from \"./utils\";\n\n\n@engine.decorators.serialize(\"Invite\")\nexport default class Invite extends engine.Script {\n    public onClick() {\n        invite();\n    }\n}\n","import engine from \"engine\";\n\n\n@engine.decorators.serialize(\"MatchRoom\")\nexport default class MatchRoom extends engine.Script {\n    public onClick() {\n        engine.game.customEventEmitter.emit('match_room');\n    }\n}\n","import engine from \"engine\";\nimport { databus } from \"./Databus\";\nimport MyHandCard from \"./MyHandCard\";\nimport { ActionModel, CardHeap } from \"./utils\";\n\n\n\n@engine.decorators.serialize(\"MyBattle\")\nexport default class MyBattle extends engine.Script {\n    @engine.decorators.property({\n        type: engine.TypeNames.UISprite\n    })\n    public bankerCardSprite: engine.UISprite;\n\n    @engine.decorators.property({\n        type: engine.TypeNames.UIButton\n    })\n    public playButton: engine.UIButton;\n    @engine.decorators.property({\n        type: engine.TypeNames.TouchInput\n    })\n    public playTouchInput: engine.TouchInputComponent;\n\n    @engine.decorators.property({\n        type: engine.TypeNames.UIButton\n    })\n    public passButton: engine.UIButton;\n    @engine.decorators.property({\n        type: engine.TypeNames.TouchInput\n    })\n    public passTouchInput: engine.TouchInputComponent;\n\n    @engine.decorators.property({\n        type: engine.TypeNames.UIButton\n    })\n    public changeButton: engine.UIButton;\n    @engine.decorators.property({\n        type: engine.TypeNames.TouchInput\n    })\n    public changeTouchInput: engine.TouchInputComponent;\n\n    @engine.decorators.property({\n        type: engine.TypeNames.UIButton\n    })\n    public skipButton: engine.UIButton;\n    @engine.decorators.property({\n        type: engine.TypeNames.TouchInput\n    })\n    public skipTouchInput: engine.TouchInputComponent;\n\n    @engine.decorators.property({\n        type: engine.TypeNames.Transform2D\n    })\n    public myHandTrans: engine.Transform2D;\n\n    @engine.decorators.property({\n        type: engine.TypeNames.Transform2D\n    })\n    public myActionTrans: engine.Transform2D;\n\n    @engine.decorators.property({\n        type: engine.TypeNames.UISprite\n    })\n    public passSprite: engine.UISprite;\n\n\n    private handCompList: {\n        sprite: engine.UISprite,\n        script: MyHandCard\n    }[];\n    private actionSpriteList: engine.UISprite[];\n\n    private selectedActionCards = new CardHeap();\n    private selectedBankerCard: MyHandCard;\n    private lastActionModel: ActionModel;\n\n    private onClickHandCard: (selected: boolean, script: MyHandCard) => void;\n\n    private playerExitHandler;\n    private dealHandler;\n    private playerPlayHandler;\n\n\n    public onAwake() {\n        this.init();\n\n        this.changeTouchInput.onClick.add(this.change.bind(this));\n        this.skipTouchInput.onClick.add(this.skip.bind(this));\n        this.playTouchInput.onClick.add(this.play.bind(this));\n        this.passTouchInput.onClick.add(this.pass.bind(this));\n\n        engine.game.customEventEmitter.on('player_exit', this.playerExitHandler);\n        engine.game.customEventEmitter.on('deal', this.dealHandler);\n        engine.game.customEventEmitter.on('player_play', this.playerPlayHandler);\n\n        this.reset();\n    }\n\n    public onDestroy() {\n        engine.game.customEventEmitter.removeListener('player_exit', this.playerExitHandler);\n        engine.game.customEventEmitter.removeListener('deal', this.dealHandler);\n        engine.game.customEventEmitter.removeListener('player_play', this.playerPlayHandler);\n    }\n\n    private init() {\n        this.handCompList = this.myHandTrans.children.map(v => {\n            const script = v.entity.getComponent<MyHandCard>(engine.Script);\n            script.onClickCallback = selected => this.onClickHandCard(selected, script);\n            return {\n                sprite: v.entity.getComponent(engine.UISprite),\n                script\n            };\n        });\n        this.actionSpriteList = this.myActionTrans.children.map(v => v.entity.getComponent(engine.UISprite));\n\n        this.playerExitHandler = this.onPlayerExit.bind(this);\n        this.dealHandler = this.onDeal.bind(this);\n        this.playerPlayHandler = this.onPlayerPlay.bind(this);\n    }\n\n    private reset() {\n        this.bankerCardSprite.visible = false;\n\n        this.selectedActionCards.clear();\n        this.selectedBankerCard = null;\n        this.lastActionModel = null;\n\n        this.hideHand();\n        this.hideAction();\n\n        this.hideChangeSkip();\n        this.disableChange();\n\n        this.hidePlayPass();\n        this.disablePlay();\n    }\n\n    private onPlayerExit() {\n        this.reset();\n    }\n\n    private onDeal({ banker_seat, banker_card, my_hand }) {\n        databus.bankerCard = banker_card;\n        this.handCompList.forEach(({ sprite, script }, i) => {\n            script.cardIndex = my_hand[i];\n            sprite.spriteFrame = databus.cardSpriteFrames[script.cardIndex];\n            sprite.entity.active = true;\n        });\n\n        if (banker_seat === databus.mySeat) {\n            this.bankerCardSprite.spriteFrame = databus.cardSpriteFrames[banker_card];\n            this.bankerCardSprite.visible = true;\n\n            this.changeButton.entity.active = true;\n            this.skipButton.entity.active = true;\n            this.onClickHandCard = this.onSelectBankerCard;\n        } else {\n            this.onClickHandCard = this.onSelectActionCards;\n        }\n    }\n\n    private onPlayerPlay({ action, next_seat, scorer }) {\n        if (scorer !== undefined) {\n            this.lastActionModel = null;\n            this.checkPlay();\n\n            wx.showToast({\n                title: 'New Round',\n                icon: 'none',\n                duration: 1000,\n                mask: true\n            });\n            setTimeout(() => {\n                this.hideAction();\n                this.playButton.entity.active = next_seat === databus.mySeat;\n            }, 1000);\n            return;\n        }\n\n        if (action.model !== null) {\n            this.lastActionModel = action.model;\n            this.checkPlay();\n        }\n\n        if (next_seat === databus.mySeat) {\n            this.hideAction();\n            this.playButton.entity.active = true;\n            this.passButton.entity.active = true;\n        }\n    }\n\n    private onSelectBankerCard(selected: boolean, script: MyHandCard) {\n        if (selected) {\n            this.selectedBankerCard?.putBack();\n            this.selectedBankerCard = script;\n            this.enableChange();\n        } else {\n            this.selectedBankerCard = null;\n            this.disableChange();\n        }\n    }\n\n    private onSelectActionCards(selected: boolean, script: MyHandCard) {\n        if (selected) {\n            this.selectedActionCards.add(script);\n        } else {\n            this.selectedActionCards.remove(script);\n        }\n        this.checkPlay();\n    }\n\n    private change() {\n        engine.game.customEventEmitter.emit('change_banker_card', {\n            banker_card: this.selectedBankerCard.cardIndex\n        }, () => {\n            this.bankerCardSprite.spriteFrame = databus.cardSpriteFrames[this.selectedBankerCard.cardIndex];\n            this.skip();\n        });\n    }\n\n    private skip() {\n        this.selectedBankerCard?.putBack();\n        this.selectedBankerCard = null;\n        this.hideChangeSkip();\n        this.playButton.entity.active = true;\n        this.onClickHandCard = this.onSelectActionCards;\n    }\n\n    private play() {\n        engine.game.customEventEmitter.emit('play', {\n            action: this.selectedActionCards.action\n        }, () => {\n            this.selectedActionCards.sortedCardScriptList.forEach((script, i) => {\n                script.entity.active = false;\n                this.actionSpriteList[i].spriteFrame = databus.cardSpriteFrames[script.cardIndex];\n                this.actionSpriteList[i].entity.active = true;\n            });\n\n            if (!this.bankerCardSprite.visible && this.selectedActionCards.cardList.includes(databus.bankerCard)) {\n                this.bankerCardSprite.spriteFrame = databus.cardSpriteFrames[databus.bankerCard];\n                this.bankerCardSprite.visible = true;\n            }\n\n            this.selectedActionCards.clear();\n            this.hidePlayPass();\n        });\n    }\n\n    private pass() {\n        engine.game.customEventEmitter.emit('play', {\n            action: {\n                model: null,\n                cards: []\n            }\n        }, () => {\n            this.selectedActionCards.cardScriptList.forEach(v => v.putBack());\n            this.passSprite.visible = true;\n            this.selectedActionCards.clear();\n            this.hidePlayPass();\n        });\n    }\n\n    private checkPlay() {\n        if (this.selectedActionCards.greaterThan(this.lastActionModel)) {\n            this.enablePlay();\n        } else {\n            this.disablePlay();\n        }\n    }\n\n    private disableChange() {\n        this.changeButton.disable = true;\n        this.changeTouchInput.active = false;\n    }\n\n    private enableChange() {\n        this.changeButton.disable = false;\n        this.changeTouchInput.active = true;\n    }\n\n    private disablePlay() {\n        this.playButton.disable = true;\n        this.playTouchInput.active = false;\n    }\n\n    private enablePlay() {\n        this.playButton.disable = false;\n        this.playTouchInput.active = true;\n    }\n\n    private hideChangeSkip() {\n        this.changeButton.entity.active = false;\n        this.skipButton.entity.active = false;\n    }\n\n    private hidePlayPass() {\n        this.playButton.entity.active = false;\n        this.passButton.entity.active = false;\n    }\n\n    private hideHand() {\n        this.handCompList.forEach(({ sprite, script }) => {\n            sprite.entity.active = false;\n            script.putBack();\n        });\n    }\n\n    private hideAction() {\n        this.actionSpriteList.forEach(sprite => sprite.entity.active = false);\n        this.passSprite.visible = false;\n    }\n}\n","import engine from \"engine\";\n\n\n@engine.decorators.serialize(\"MyHandCard\")\nexport default class MyHandCard extends engine.Script {\n    private selected;\n    private button: engine.UIButton;\n\n    public cardIndex: number;\n    public onClickCallback: (selected: boolean) => void = null;\n\n    public onAwake() {\n        this.button = this.getComponent(engine.UIButton);\n    }\n\n    public onTouchUp() {\n        if (!this.selected) {\n            this.entity.transform2D.positionY += 60;\n        } else {\n            this.entity.transform2D.positionY -= 60;\n        }\n        this.selected = !this.selected;\n        this.onClickCallback && this.onClickCallback(this.selected);\n        this.button.state = engine.UIButton.State.Normal;\n    }\n\n    public onTouchMove() {\n        this.button.state = engine.UIButton.State.Pressed;\n    }\n\n    public onTouchOver() {\n        this.button.state = engine.UIButton.State.Pressed;\n    }\n\n    public putBack() {\n        if (this.selected) {\n            this.entity.transform2D.positionY -= 60;\n            this.selected = false;\n        }\n    }\n\n    public get cardWeigt() {\n        return this.cardIndex >> 2;\n    }\n\n    public get cardSuit() {\n        return this.cardIndex & 3;\n    }\n}\n","import engine from \"engine\";\nimport { databus } from \"./Databus\";\n\n\n@engine.decorators.serialize(\"MyInfo\")\nexport default class MyInfo extends engine.Script {\n    public onAwake() {\n        const { avatar, nickname } = databus.playerInfoList[databus.mySeat];\n        this.entity.transform2D.findChildByName('CircleMask').children[0].entity.getComponent<engine.UISprite>(engine.UISprite).spriteFrame = avatar;\n        this.entity.transform2D.findChildByName('Nickname').entity.getComponent<engine.UILabel>(engine.UILabel).text = nickname;\n    }\n}\n","import engine from \"engine\";\nimport { databus } from \"./Databus\";\n\n\n@engine.decorators.serialize(\"MyScore\")\nexport default class MyScore extends engine.Script {\n    private label: engine.UILabel;\n\n    private myScore: number;\n\n    private playerExitHandler;\n    private dealHandler;\n    private playerPlayHandler;\n\n\n    public onAwake() {\n        this.init();\n\n        engine.game.customEventEmitter.on('player_exit', this.playerExitHandler);\n        engine.game.customEventEmitter.on('deal', this.dealHandler);\n        engine.game.customEventEmitter.on('player_play', this.playerPlayHandler);\n\n        this.reset();\n    }\n\n    public onDestroy() {\n        engine.game.customEventEmitter.removeListener('player_exit', this.playerExitHandler);\n        engine.game.customEventEmitter.removeListener('deal', this.dealHandler);\n        engine.game.customEventEmitter.removeListener('player_play', this.playerPlayHandler);\n    }\n\n    private init() {\n        this.label = this.entity.getComponent(engine.UILabel);\n\n        this.playerExitHandler = this.onPlayerExit.bind(this);\n        this.dealHandler = this.onDeal.bind(this);\n        this.playerPlayHandler = this.onPlayerPlay.bind(this);\n    }\n\n    private reset() {\n        this.myScore = 0;\n        this.label.text = '';\n    }\n\n    private onPlayerExit() {\n        this.reset();\n    }\n\n    private onDeal() {\n        this.showScore();\n    }\n\n    private onPlayerPlay({ scorer, score }) {\n        if (scorer === databus.mySeat) {\n            this.myScore += score;\n            this.showScore();\n        }\n    }\n\n    private showScore() {\n        this.label.text = `score: ${this.myScore}`;\n    }\n}\n","import engine from \"engine\";\nimport { databus } from \"./Databus\";\n\n\n@engine.decorators.serialize(\"PlayerBankerCard\")\nexport default class PlayerBankerCard extends engine.Script {\n    private sprite: engine.UISprite;\n\n    private seat: number;\n\n    private playerExitHandler;\n    private dealHandler;\n    private playerChangeBankerCardHandler;\n    private playerPlayHandler;\n\n\n    public onAwake() {\n        this.init();\n\n        engine.game.customEventEmitter.on('player_exit', this.playerExitHandler);\n        engine.game.customEventEmitter.on('deal', this.dealHandler);\n        engine.game.customEventEmitter.on('player_change_banker_card', this.playerChangeBankerCardHandler);\n\n        this.reset();\n    }\n\n    public onDestroy() {\n        engine.game.customEventEmitter.removeListener('player_exit', this.playerExitHandler);\n        engine.game.customEventEmitter.removeListener('deal', this.dealHandler);\n        engine.game.customEventEmitter.removeListener('player_change_banker_card', this.playerChangeBankerCardHandler);\n        engine.game.customEventEmitter.removeListener('player_play', this.playerPlayHandler);\n    }\n\n    private init() {\n        const name = this.entity.transform2D.parent.entity.name;\n        this.seat = (databus.mySeat + parseInt(name.charAt(name.length - 1))) % 4;\n\n        this.sprite = this.entity.getComponent(engine.UISprite);\n\n        this.playerExitHandler = this.onPlayerExit.bind(this);\n        this.dealHandler = this.onDeal.bind(this);\n        this.playerChangeBankerCardHandler = this.onPlayerChangeBankerCard.bind(this);\n        this.playerPlayHandler = this.onPlayerPlay.bind(this);\n    }\n\n    private reset() {\n        this.sprite.visible = false;\n    }\n\n    private onPlayerExit() {\n        this.reset();\n    }\n\n    private onDeal({ banker_seat, banker_card }) {\n        if (banker_seat === this.seat) {\n            this.sprite.spriteFrame = databus.cardSpriteFrames[banker_card];\n            this.sprite.visible = true;\n            engine.game.customEventEmitter.removeListener('player_play', this.playerPlayHandler);\n        } else {\n            engine.game.customEventEmitter.on('player_play', this.playerPlayHandler);\n        }\n    }\n\n    private onPlayerChangeBankerCard({ banker_card }) {\n        databus.bankerCard = banker_card;\n        if (this.sprite.visible) {\n            this.sprite.spriteFrame = databus.cardSpriteFrames[banker_card];\n        }\n    }\n\n    private onPlayerPlay({ action, from_seat }) {\n        if (from_seat === this.seat && action.cards.includes(databus.bankerCard)) {\n            this.sprite.spriteFrame = databus.cardSpriteFrames[databus.bankerCard];\n            this.sprite.visible = true;\n            engine.game.customEventEmitter.removeListener('player_play', this.playerPlayHandler);\n        }\n    }\n}\n","import engine from \"engine\";\nimport { databus } from \"./Databus\";\n\n\n@engine.decorators.serialize(\"PlayerBattle\")\nexport default class PlayerBattle extends engine.Script {\n    private seat: number;\n\n    private actionSpriteList: engine.UISprite[];\n    private passEntity: engine.Entity;\n    private clockEntity: engine.Entity;\n\n    private playerExitHandler;\n    private dealHandler;\n    private playerPlayHandler;\n\n\n    public onAwake() {\n        this.init();\n\n        engine.game.customEventEmitter.on('player_exit', this.playerExitHandler);\n        engine.game.customEventEmitter.on('deal', this.dealHandler);\n        engine.game.customEventEmitter.on('player_play', this.playerPlayHandler);\n\n        this.reset();\n    }\n\n    public onDestroy() {\n        engine.game.customEventEmitter.removeListener('player_exit', this.playerExitHandler);\n        engine.game.customEventEmitter.removeListener('deal', this.dealHandler);\n        engine.game.customEventEmitter.removeListener('player_play', this.playerPlayHandler);\n    }\n\n    private init() {\n        const name = this.entity.name;\n        this.seat = (databus.mySeat + parseInt(name.charAt(name.length - 1))) % 4;\n\n        this.actionSpriteList = this.entity.transform2D.findChildByName('ActionCards').children.map(v => v.entity.getComponent(engine.UISprite));\n        this.passEntity = this.entity.transform2D.findChildByName('Pass').entity;\n        this.clockEntity = this.entity.transform2D.findChildByName('Clock').entity;\n\n        this.playerExitHandler = this.onPlayerExit.bind(this);\n        this.dealHandler = this.onDeal.bind(this);\n        this.playerPlayHandler = this.onPlayerPlay.bind(this);\n    }\n\n    private reset() {\n        this.hideAction();\n        this.clockEntity.active = false;\n    }\n\n    private onPlayerExit() {\n        this.reset();\n    }\n\n    private onDeal({ banker_seat }) {\n        if (banker_seat === this.seat) {\n            this.clockEntity.active = true;\n        }\n    }\n\n    private onPlayerPlay({ action, from_seat, next_seat, scorer }) {\n        if (from_seat === this.seat) {\n            this.reset();\n            const actionCards = action.cards;\n            if (actionCards.length === 0) {\n                this.passEntity.active = true;\n            } else {\n                actionCards.forEach((card, i) => {\n                    this.actionSpriteList[i].spriteFrame = databus.cardSpriteFrames[card];\n                    this.actionSpriteList[i].entity.active = true;\n                });\n            }\n        }\n\n        if (scorer !== undefined) {\n            setTimeout(() => {\n                this.hideAction();\n                this.clockEntity.active = next_seat === this.seat;\n            }, 1000);\n            return;\n        }\n\n        if (next_seat === this.seat) {\n            this.hideAction();\n            this.clockEntity.active = true;\n        }\n    }\n\n    private hideAction() {\n        this.actionSpriteList.forEach(v => v.entity.active = false);\n        this.passEntity.active = false;\n    }\n}\n","import engine from \"engine\";\nimport { databus } from \"./Databus\";\nimport { urlToSpriteFrame } from \"./utils\";\n\n\n@engine.decorators.serialize(\"PlayerInfo\")\nexport default class PlayerInfo extends engine.Script {\n    private defaultEntity: engine.Entity;\n    private avatarSprite: engine.UISprite;\n    private nicknameLabel: engine.UILabel;\n\n    private seat: number;\n\n    private getPlayersInfoResultHandler;\n    private playerEnterHandler;\n    private playerExitHandler;\n\n\n    public onAwake() {\n        this.init();\n\n        engine.game.customEventEmitter.on('get_players_info_result', this.getPlayersInfoResultHandler);\n        engine.game.customEventEmitter.on('player_enter', this.playerEnterHandler);\n        engine.game.customEventEmitter.on('player_exit', this.playerExitHandler);\n    }\n\n    private init() {\n        const name = this.entity.name;\n        this.seat = (databus.mySeat + parseInt(name.charAt(name.length - 1))) % 4;\n\n        this.defaultEntity = this.entity.transform2D.findChildByName('Default').entity;\n\n        const infoTrans = this.entity.transform2D.findChildByName('Info');\n        this.avatarSprite = infoTrans.findChildByName('CircleMask').children[0].entity.getComponent(engine.UISprite);\n        this.nicknameLabel = infoTrans.findChildByName('Nickname').entity.getComponent(engine.UILabel);\n\n        this.getPlayersInfoResultHandler = this.onGetPlayersInfoResult.bind(this);\n        this.playerEnterHandler = this.onPlayerEnter.bind(this);\n        this.playerExitHandler = this.onPlayerExit.bind(this);\n    }\n\n    public onDestroy() {\n        engine.game.customEventEmitter.removeListener('get_players_info_result', this.getPlayersInfoResultHandler);\n        engine.game.customEventEmitter.removeListener('player_enter', this.playerEnterHandler);\n        engine.game.customEventEmitter.removeListener('player_exit', this.playerExitHandler);\n    }\n\n    private onGetPlayersInfoResult({ player_list }) {\n        const info = player_list[this.seat];\n        if (info) {\n            this.showInfo(info);\n        } else {\n            this.showDefault();\n        }\n    }\n\n    private onPlayerEnter({ seat, info }) {\n        seat === this.seat && this.showInfo(info);\n    }\n\n    private onPlayerExit({ seat }) {\n        seat === this.seat && this.showDefault();\n    }\n\n    private showInfo({ nickname, avatar_url }) {\n        urlToSpriteFrame(avatar_url).then(avatar => {\n            this.avatarSprite.spriteFrame = avatar;\n            this.nicknameLabel.text = nickname;\n            this.defaultEntity.active = false;\n            this.nicknameLabel.entity.transform2D.parent.entity.active = true;\n\n            databus.playerInfoList[this.seat] = {\n                avatar,\n                nickname\n            };\n        });\n    }\n\n    private showDefault() {\n        this.defaultEntity.active = true;\n        this.nicknameLabel.entity.transform2D.parent.entity.active = false;\n    }\n}\n","import engine from \"engine\";\nimport { databus } from \"./Databus\";\n\n\n@engine.decorators.serialize(\"PlayerRemainingCardCount\")\nexport default class PlayerRemainingCardCount extends engine.Script {\n    private sprite: engine.UISprite;\n    private label: engine.UILabel;\n\n    private seat: number;\n    private count: number;\n\n    private playerExitHandler;\n    private playerPlayHandler;\n\n\n    public onAwake() {\n        this.init();\n\n        engine.game.customEventEmitter.on('player_exit', this.playerExitHandler);\n        engine.game.customEventEmitter.on('player_play', this.playerPlayHandler);\n\n        this.reset();\n    }\n\n    public onDestroy() {\n        engine.game.customEventEmitter.removeListener('player_exit', this.playerExitHandler);\n        engine.game.customEventEmitter.removeListener('player_play', this.playerPlayHandler);\n    }\n\n    private init() {\n        const name = this.entity.transform2D.parent.entity.name;\n        this.seat = (databus.mySeat + parseInt(name.charAt(name.length - 1))) % 4;\n\n        this.sprite = this.entity.getComponent(engine.UISprite);\n        this.label = this.entity.transform2D.children[0].entity.getComponent(engine.UILabel);\n\n        this.playerExitHandler = this.onPlayerExit.bind(this);\n        this.playerPlayHandler = this.onPlayerPlay.bind(this);\n    }\n\n    private reset() {\n        this.sprite.visible = false;\n        this.label.text = '';\n        this.count = 26;\n    }\n\n    private onPlayerExit() {\n        this.reset();\n    }\n\n    private onPlayerPlay({ action, from_seat }) {\n        if (from_seat === this.seat) {\n            this.count -= action.cards.length;\n            if (this.count <= 5) {\n                this.sprite.visible = true;\n                this.label.text = this.count.toString();\n            }\n        }\n    }\n}\n","import engine from \"engine\";\nimport { databus } from \"./Databus\";\n\n\n@engine.decorators.serialize(\"Player\")\nexport class Player {\n    @engine.decorators.property({\n        type: engine.TypeNames.UISprite\n    })\n    public avatarSprite: engine.UISprite;\n\n    @engine.decorators.property({\n        type: engine.TypeNames.UILabel\n    })\n    public nicknameLabel: engine.UILabel;\n\n    @engine.decorators.property({\n        type: engine.TypeNames.UILabel\n    })\n    public orderLabel: engine.UILabel;\n\n    @engine.decorators.property({\n        type: engine.TypeNames.UILabel\n    })\n    public scoreLabel: engine.UILabel;\n}\n\n@engine.decorators.serialize(\"Team\")\nexport class Team {\n    @engine.decorators.property({\n        type: [Player]\n    })\n    public playerList: Player[] = [];\n\n    @engine.decorators.property({\n        type: engine.TypeNames.UILabel\n    })\n    public finalScoreLabel: engine.UILabel;\n}\n\n\n@engine.decorators.serialize(\"TeamPlayResult\")\nexport default class TeamPlayResult extends engine.Script {\n    @engine.decorators.property({\n        type: [Team]\n    })\n    public teamList: Team[] = [];\n\n    private playerExitHandler;\n    private playerPlayHandler;\n\n\n    public onAwake() {\n        this.init();\n\n        engine.game.customEventEmitter.on('player_exit', this.playerExitHandler);\n        engine.game.customEventEmitter.on('player_play', this.playerPlayHandler);\n\n        this.reset();\n    }\n\n    public onDestroy() {\n        engine.game.customEventEmitter.removeListener('player_exit', this.playerExitHandler);\n        engine.game.customEventEmitter.removeListener('player_play', this.playerPlayHandler);\n    }\n\n    private init() {\n        this.playerExitHandler = this.onPlayerExit.bind(this);\n        this.playerPlayHandler = this.onPlayerPlay.bind(this);\n    }\n\n    private reset() {\n        this.entity.transform2D.children[0].entity.active = false;\n    }\n\n    private onPlayerExit() {\n        this.reset();\n    }\n\n    private onPlayerPlay({ team_play_result }) {\n        if (team_play_result !== undefined) {\n            this.teamList.forEach((team, i) => {\n                const { players, team_score, addition } = team_play_result[i];\n                team.playerList.forEach((player, j) => {\n                    const { seat, score, order } = players[j];\n                    const { avatar, nickname } = databus.playerInfoList[seat];\n                    player.avatarSprite.spriteFrame = avatar;\n                    player.nicknameLabel.text = nickname;\n                    switch (order) {\n                        case 0:\n                            player.orderLabel.text = '';\n                            break;\n                        case 1:\n                            player.orderLabel.text = '';\n                            break;\n                        case 2:\n                            player.orderLabel.text = '';\n                            break;\n                        case 3:\n                            player.orderLabel.text = '';\n                            break;\n                        default:\n                            player.orderLabel.text = '';\n                            break;\n                    }\n                    player.scoreLabel.text = `${score}`;\n                });\n                team.finalScoreLabel.text = `${addition === 0 ? '' : addition > 0 ? `+<style|color=#FFFF00>${addition}</style> = ` : `-<style|color=#FFFF00>${-addition}</style> = `}<style|color=#FF0000>${team_score}</style>`;\n            });\n\n            this.entity.transform2D.children[0].entity.active = true;\n        }\n    }\n}\n","import engine from \"engine\";\r\nimport { databus } from \"./Databus\";\r\nimport MyHandCard from \"./MyHandCard\";\r\n\r\n\r\nclass LRUCache<K, V> {\r\n    private cache: Map<K, V>;\r\n\r\n    public constructor(private capacity: number) {\r\n        this.cache = new Map();\r\n    }\r\n\r\n    public get(key: K): V | undefined {\r\n        const val = this.cache.get(key);\r\n        if (val === undefined) return;\r\n\r\n        this.cache.delete(key);\r\n        this.cache.set(key, val);\r\n        return val;\r\n    }\r\n\r\n    public add(key: K, value: V): void {\r\n        if (this.cache.has(key)) {\r\n            this.cache.delete(key);\r\n        } else if (this.cache.size >= this.capacity) {\r\n            this.cache.delete(this.cache.keys().next().value);\r\n        }\r\n        this.cache.set(key, value);\r\n    }\r\n}\r\n\r\nconst spriteFrameCache = new LRUCache<string, engine.SpriteFrame>(10);\r\n\r\n\r\nexport function urlToSpriteFrame(url: string) {\r\n    return new Promise<engine.SpriteFrame>((resolve, reject) => {\r\n        const spriteFrame = spriteFrameCache.get(url);\r\n        if (spriteFrame) {\r\n            return resolve(spriteFrame);\r\n        }\r\n        const img = new engine.Image();\r\n        img.onerror = err => {\r\n            console.error(err);\r\n            reject();\r\n        };\r\n        img.onload = () => {\r\n            const texture = new engine.Texture2D();\r\n            if (texture.initWithImage(img)) {\r\n                const spriteFrame = engine.SpriteFrame.createFromTexture(texture);\r\n                spriteFrameCache.add(url, spriteFrame);\r\n                resolve(spriteFrame);\r\n            } else {\r\n                reject();\r\n            }\r\n        }\r\n        img.src = url;\r\n    });\r\n}\r\n\r\n\r\nexport function invite() {\r\n    engine.canvas.toTempFilePath({\r\n        destWidth: 500,\r\n        destHeight: 400,\r\n        success: res => {\r\n            // wx.shareAppMessage({\r\n            //     title: '5 10 K',\r\n            //     query: `roomNo=${databus.roomNo}`,\r\n            //     imageUrl: res.tempFilePath\r\n            // });\r\n        }\r\n    });\r\n}\r\n\r\n\r\nexport interface ActionModel {\r\n    pattern: string,\r\n    weight: number\r\n}\r\n\r\n\r\n/* bomb weight\r\n510K 0\r\n510K 1\r\n0  3333 52\r\n......\r\n12 2222 64\r\n0  33333 65\r\n......\r\n12 22222 25\r\ncard + 13 * count\r\n*/\r\n\r\n\r\nexport class CardHeap {\r\n    public cardScriptList: MyHandCard[];\r\n    private cardCountList: number[];\r\n    private actionModel: ActionModel; //null -> None or invalid\r\n\r\n    public constructor() {\r\n        this.clear();\r\n    }\r\n\r\n    public get action() {\r\n        return {\r\n            model: this.actionModel,\r\n            cards: this.sortedCardScriptList.map(scrit => scrit.cardIndex)\r\n        };\r\n    }\r\n\r\n    public get cardList() {\r\n        return this.cardScriptList.map(scrit => scrit.cardIndex);\r\n    }\r\n\r\n    public get sortedCardScriptList() {\r\n        return this.cardScriptList.sort((a, b) => a.cardIndex - b.cardIndex);\r\n    }\r\n\r\n    public add(cardScript: MyHandCard) {\r\n        this.cardScriptList.push(cardScript);\r\n        this.cardCountList[cardScript.cardWeigt] += 1;\r\n        this.check();\r\n    }\r\n\r\n    public remove(cardScript: MyHandCard) {\r\n        this.cardScriptList.splice(this.cardScriptList.indexOf(cardScript), 1);\r\n        this.cardCountList[cardScript.cardWeigt] -= 1;\r\n        this.check();\r\n    }\r\n\r\n    public clear() {\r\n        this.cardScriptList = [];\r\n        this.cardCountList = Array(13).fill(0);\r\n        this.actionModel = null;\r\n    }\r\n\r\n    public greaterThan(actionModel: ActionModel) {\r\n        if (this.actionModel === null) return false;\r\n        if (actionModel === null) return true;\r\n        if (this.actionModel.pattern === actionModel.pattern) {\r\n            return this.actionModel.weight > actionModel.weight;\r\n        }\r\n        return this.actionModel.pattern === 'bomb';\r\n    }\r\n\r\n    private check() {\r\n        this.actionModel = null;\r\n        if (this.cardScriptList.length === 0) return;\r\n        this.checkSingleRepeat() || this.checkSequence() || this.check510K();\r\n    }\r\n\r\n    // single double triple non-510K bomb\r\n    private checkSingleRepeat() {\r\n        const weight = this.cardScriptList[0].cardWeigt;\r\n        if (this.cardScriptList.every(v => v.cardWeigt === weight)) {\r\n            const count = this.cardScriptList.length;\r\n            switch (count) {\r\n                case 1:\r\n                    this.actionModel = {\r\n                        pattern: 'single',\r\n                        weight\r\n                    };\r\n                    break;\r\n                case 2:\r\n                    this.actionModel = {\r\n                        pattern: 'double',\r\n                        weight\r\n                    };\r\n                    break;\r\n                case 3:\r\n                    this.actionModel = {\r\n                        pattern: 'triple',\r\n                        weight\r\n                    };\r\n                    break;\r\n                default:\r\n                    this.actionModel = {\r\n                        pattern: 'bomb',\r\n                        weight: weight + 13 * count\r\n                    };\r\n                    break;\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    // i_double i_triple\r\n    private checkSequence() {\r\n        // `2`\r\n        if (this.cardCountList[12] > 0) return false;\r\n\r\n        const firstCard = this.cardCountList.findIndex(v => v > 0);\r\n        const count = this.cardCountList[firstCard];\r\n        if (count !== 2 && count !== 3) return false;\r\n\r\n        const lastCard = (() => {\r\n            for (let i = 11; i >= 0; i--) {\r\n                if (this.cardCountList[i] > 0) {\r\n                    return i;\r\n                }\r\n            }\r\n        })();\r\n        const seqLen = lastCard - firstCard + 1;\r\n        if (seqLen < 2) return false;\r\n\r\n        if (this.cardCountList.slice(firstCard + 1, lastCard + 1).every(v => v === count)) {\r\n            this.actionModel = {\r\n                pattern: `${seqLen}_${count === 2 ? 'double' : 'triple'}`,\r\n                weight: firstCard\r\n            };\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private check510K() {\r\n        if (this.cardScriptList.length === 3 && this.cardCountList[2] === 1 && this.cardCountList[7] === 1 && this.cardCountList[10] === 1) {\r\n            const [a, b, c] = this.cardScriptList.map(v => v.cardSuit);\r\n            this.actionModel = {\r\n                pattern: 'bomb',\r\n                weight: a === b && b === c ? 1 : 0\r\n            };\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport class SortedList<V> {\r\n    private list: V[] = [];\r\n\r\n    public constructor(private key: (arg: V) => any = a => a) {\r\n\r\n    }\r\n    public get array() {\r\n        return this.list;\r\n    }\r\n\r\n    public get(i: number) {\r\n        if (i < 0) {\r\n            i += this.list.length;\r\n        }\r\n        return this.list[i];\r\n    }\r\n\r\n\r\n    public add(elem: V) {\r\n        const idx = this.searchGreaterEqual(elem);\r\n        this.list.splice(idx, 0, elem);\r\n    }\r\n\r\n    public remove(elem: V) {\r\n        const idx = this.searchGreaterEqual(elem);\r\n        if (this.list[idx] === elem) {\r\n            this.list.splice(idx, 1);\r\n        }\r\n    }\r\n\r\n    public clear() {\r\n        this.list = [];\r\n    }\r\n\r\n    public contains(elem: V) {\r\n        const idx = this.searchGreaterEqual(elem);\r\n        return this.list[idx] === elem;\r\n    }\r\n\r\n    private searchGreaterEqual(target: V): number {\r\n        let left = 0;\r\n        let right = this.list.length;\r\n        while (left < right) {\r\n            const mid = (left + right) >> 1;\r\n            const midVal = this.key(this.list[mid]);\r\n            const targetVal = this.key(target);\r\n            if (midVal === targetVal) return mid;\r\n            if (midVal > targetVal) {\r\n                right = mid;\r\n            } else {\r\n                left = mid + 1;\r\n            }\r\n        }\r\n        return left;\r\n    }\r\n\r\n}\r\n\r\n"]}