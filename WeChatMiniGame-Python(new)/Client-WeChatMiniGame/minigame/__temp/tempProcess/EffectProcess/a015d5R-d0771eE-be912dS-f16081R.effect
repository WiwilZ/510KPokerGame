{"version":2,"name":"System::Effect::ShadowCasterFallBack","properties":[],"images":[],"defaultRenderQueue":2000,"passes":[{"renderStates":{"cullOn":true,"blendOn":false,"cullFace":2},"macros":{"__USE_MESH_COLOR":2,"__USE_SKIN_WORLD":3,"__USE_SKINNED_ANIMATION":0,"__USE_SKIN_LOCAL":1},"lightMode":"ShadowCaster","useMaterialRenderStates":true,"variants":{"0":0,"1":3,"2":2,"4":5,"5":7,"6":6,"8":1,"12":4}}],"variants":[{"shaders":[0,1],"uniformBlock":[]},{"shaders":[2,3],"uniformBlock":[]},{"shaders":[4,3],"uniformBlock":[]},{"shaders":[5,3],"uniformBlock":[]},{"shaders":[6,3],"uniformBlock":[]},{"shaders":[7,1],"uniformBlock":[]},{"shaders":[8,3],"uniformBlock":[]},{"shaders":[9,3],"uniformBlock":[]}],"shaders":["#version 100\n\nuniform mat4 u_world;\nuniform vec4 u_lightMapScaleOffset;\nuniform float u_lightCountFA;\nuniform vec4 u_lightPosFA[4];\nuniform vec4 u_lightColorFA[4];\nuniform vec4 u_lightAttenFA[4];\nuniform vec4 u_spotDirFA[4];\n\n\nuniform mat4 u_view;\nuniform mat4 u_viewInverse;\nuniform mat4 u_vp;\nuniform mat4 u_projection;\nuniform mat4 u_lightSpaceMatrix;\nuniform vec4 u_fogInfos;\nuniform vec3 u_fogColor;\nuniform float u_gameTime;\nuniform float u_aspect;\nuniform vec3 u_ambientLight;\nuniform vec3 u_lightDir;\nuniform vec3 u_lightColor;\nuniform vec3 u_shadowColor;\nuniform float u_shadowStrength;\nuniform float u_shadowBias;\nuniform float u_lightWidthPCSS;\nuniform float u_blockSizePCSS;\nuniform vec4 u_csmFarBounds;\nuniform vec4 u_shadowTilingOffsets[4];\nuniform mat4 u_csmLightSpaceMatrices[4];\nuniform vec3 u_SH[9];\n\n\nattribute vec4 a_position;\nvarying float varying_PositionZ;\n\nvoid main()\n{\n    vec4 _275 = u_lightSpaceMatrix * (u_world * a_position);\n    gl_Position = _275;\n    varying_PositionZ = _275.z / _275.w;\n}\n\n","#version 100\nprecision mediump float;\nprecision highp int;\n\nvarying highp float varying_PositionZ;\n\nvoid main()\n{\n    highp vec4 _189 = mod((vec4(16777216.0, 65536.0, 256.0, 1.0) * ((varying_PositionZ * 0.5) + 0.5)) * vec4(255.0), vec4(256.0)) * vec4(0.0039215688593685626983642578125);\n    gl_FragData[0] = _189 - (_189.xxyz * vec4(0.0, 0.00390625, 0.00390625, 0.00390625));\n}\n\n","#version 100\n\nuniform mat4 u_world;\nuniform vec4 u_lightMapScaleOffset;\nuniform mat4 u_bindTargetWorldInverse;\nuniform vec4 u_boneOffsetMatrix[288];\nuniform float u_lightCountFA;\nuniform vec4 u_lightPosFA[4];\nuniform vec4 u_lightColorFA[4];\nuniform vec4 u_lightAttenFA[4];\nuniform vec4 u_spotDirFA[4];\n\n\nuniform mat4 u_view;\nuniform mat4 u_viewInverse;\nuniform mat4 u_vp;\nuniform mat4 u_projection;\nuniform mat4 u_lightSpaceMatrix;\nuniform vec4 u_fogInfos;\nuniform vec3 u_fogColor;\nuniform float u_gameTime;\nuniform float u_aspect;\nuniform vec3 u_ambientLight;\nuniform vec3 u_lightDir;\nuniform vec3 u_lightColor;\nuniform vec3 u_shadowColor;\nuniform float u_shadowStrength;\nuniform float u_shadowBias;\nuniform float u_lightWidthPCSS;\nuniform float u_blockSizePCSS;\nuniform vec4 u_csmFarBounds;\nuniform vec4 u_shadowTilingOffsets[4];\nuniform mat4 u_csmLightSpaceMatrices[4];\nuniform vec3 u_SH[9];\n\n\nattribute vec4 a_position;\nattribute vec4 a_boneWeight;\nattribute vec4 a_boneIndex;\nvarying float varying_PositionZ;\n\nvoid main()\n{\n    int _642 = int(a_boneIndex.x) * 3;\n    int _647 = _642 + 1;\n    int _651 = _642 + 2;\n    int _693 = int(a_boneIndex.y) * 3;\n    int _698 = _693 + 1;\n    int _702 = _693 + 2;\n    int _744 = int(a_boneIndex.z) * 3;\n    int _749 = _744 + 1;\n    int _753 = _744 + 2;\n    int _795 = int(a_boneIndex.w) * 3;\n    int _800 = _795 + 1;\n    int _804 = _795 + 2;\n    mat4 _539 = mat4(vec4(u_boneOffsetMatrix[_642].xyz, 0.0), vec4(u_boneOffsetMatrix[_647].xyz, 0.0), vec4(u_boneOffsetMatrix[_651].xyz, 0.0), vec4(u_boneOffsetMatrix[_642].w, u_boneOffsetMatrix[_647].w, u_boneOffsetMatrix[_651].w, 1.0)) * a_boneWeight.x;\n    mat4 _543 = mat4(vec4(u_boneOffsetMatrix[_693].xyz, 0.0), vec4(u_boneOffsetMatrix[_698].xyz, 0.0), vec4(u_boneOffsetMatrix[_702].xyz, 0.0), vec4(u_boneOffsetMatrix[_693].w, u_boneOffsetMatrix[_698].w, u_boneOffsetMatrix[_702].w, 1.0)) * a_boneWeight.y;\n    mat4 _561 = mat4(vec4(u_boneOffsetMatrix[_744].xyz, 0.0), vec4(u_boneOffsetMatrix[_749].xyz, 0.0), vec4(u_boneOffsetMatrix[_753].xyz, 0.0), vec4(u_boneOffsetMatrix[_744].w, u_boneOffsetMatrix[_749].w, u_boneOffsetMatrix[_753].w, 1.0)) * a_boneWeight.z;\n    mat4 _579 = mat4(vec4(u_boneOffsetMatrix[_795].xyz, 0.0), vec4(u_boneOffsetMatrix[_800].xyz, 0.0), vec4(u_boneOffsetMatrix[_804].xyz, 0.0), vec4(u_boneOffsetMatrix[_795].w, u_boneOffsetMatrix[_800].w, u_boneOffsetMatrix[_804].w, 1.0)) * a_boneWeight.w;\n    vec4 _456 = u_lightSpaceMatrix * (u_world * ((u_bindTargetWorldInverse * mat4(((_539[0] + _543[0]) + _561[0]) + _579[0], ((_539[1] + _543[1]) + _561[1]) + _579[1], ((_539[2] + _543[2]) + _561[2]) + _579[2], ((_539[3] + _543[3]) + _561[3]) + _579[3])) * a_position));\n    gl_Position = _456;\n    varying_PositionZ = _456.z / _456.w;\n}\n\n","#version 100\nprecision mediump float;\nprecision highp int;\n\nvarying highp float varying_PositionZ;\n\nvoid main()\n{\n    highp vec4 _191 = mod((vec4(16777216.0, 65536.0, 256.0, 1.0) * ((varying_PositionZ * 0.5) + 0.5)) * vec4(255.0), vec4(256.0)) * vec4(0.0039215688593685626983642578125);\n    gl_FragData[0] = _191 - (_191.xxyz * vec4(0.0, 0.00390625, 0.00390625, 0.00390625));\n}\n\n","#version 100\n\nuniform mat4 u_world;\nuniform vec4 u_lightMapScaleOffset;\nuniform vec4 u_boneOffsetMatrix[288];\nuniform float u_lightCountFA;\nuniform vec4 u_lightPosFA[4];\nuniform vec4 u_lightColorFA[4];\nuniform vec4 u_lightAttenFA[4];\nuniform vec4 u_spotDirFA[4];\n\n\nuniform mat4 u_view;\nuniform mat4 u_viewInverse;\nuniform mat4 u_vp;\nuniform mat4 u_projection;\nuniform mat4 u_lightSpaceMatrix;\nuniform vec4 u_fogInfos;\nuniform vec3 u_fogColor;\nuniform float u_gameTime;\nuniform float u_aspect;\nuniform vec3 u_ambientLight;\nuniform vec3 u_lightDir;\nuniform vec3 u_lightColor;\nuniform vec3 u_shadowColor;\nuniform float u_shadowStrength;\nuniform float u_shadowBias;\nuniform float u_lightWidthPCSS;\nuniform float u_blockSizePCSS;\nuniform vec4 u_csmFarBounds;\nuniform vec4 u_shadowTilingOffsets[4];\nuniform mat4 u_csmLightSpaceMatrices[4];\nuniform vec3 u_SH[9];\n\n\nattribute vec4 a_position;\nattribute vec4 a_boneWeight;\nattribute vec4 a_boneIndex;\nvarying float varying_PositionZ;\n\nvoid main()\n{\n    int _634 = int(a_boneIndex.x) * 3;\n    int _639 = _634 + 1;\n    int _643 = _634 + 2;\n    int _685 = int(a_boneIndex.y) * 3;\n    int _690 = _685 + 1;\n    int _694 = _685 + 2;\n    int _736 = int(a_boneIndex.z) * 3;\n    int _741 = _736 + 1;\n    int _745 = _736 + 2;\n    int _787 = int(a_boneIndex.w) * 3;\n    int _792 = _787 + 1;\n    int _796 = _787 + 2;\n    mat4 _535 = mat4(vec4(u_boneOffsetMatrix[_634].xyz, 0.0), vec4(u_boneOffsetMatrix[_639].xyz, 0.0), vec4(u_boneOffsetMatrix[_643].xyz, 0.0), vec4(u_boneOffsetMatrix[_634].w, u_boneOffsetMatrix[_639].w, u_boneOffsetMatrix[_643].w, 1.0)) * a_boneWeight.x;\n    mat4 _539 = mat4(vec4(u_boneOffsetMatrix[_685].xyz, 0.0), vec4(u_boneOffsetMatrix[_690].xyz, 0.0), vec4(u_boneOffsetMatrix[_694].xyz, 0.0), vec4(u_boneOffsetMatrix[_685].w, u_boneOffsetMatrix[_690].w, u_boneOffsetMatrix[_694].w, 1.0)) * a_boneWeight.y;\n    mat4 _557 = mat4(vec4(u_boneOffsetMatrix[_736].xyz, 0.0), vec4(u_boneOffsetMatrix[_741].xyz, 0.0), vec4(u_boneOffsetMatrix[_745].xyz, 0.0), vec4(u_boneOffsetMatrix[_736].w, u_boneOffsetMatrix[_741].w, u_boneOffsetMatrix[_745].w, 1.0)) * a_boneWeight.z;\n    mat4 _575 = mat4(vec4(u_boneOffsetMatrix[_787].xyz, 0.0), vec4(u_boneOffsetMatrix[_792].xyz, 0.0), vec4(u_boneOffsetMatrix[_796].xyz, 0.0), vec4(u_boneOffsetMatrix[_787].w, u_boneOffsetMatrix[_792].w, u_boneOffsetMatrix[_796].w, 1.0)) * a_boneWeight.w;\n    vec4 _452 = u_lightSpaceMatrix * (u_world * (mat4(((_535[0] + _539[0]) + _557[0]) + _575[0], ((_535[1] + _539[1]) + _557[1]) + _575[1], ((_535[2] + _539[2]) + _557[2]) + _575[2], ((_535[3] + _539[3]) + _557[3]) + _575[3]) * a_position));\n    gl_Position = _452;\n    varying_PositionZ = _452.z / _452.w;\n}\n\n","#version 100\n\nuniform mat4 u_world;\nuniform vec4 u_lightMapScaleOffset;\nuniform vec4 u_skinnedAnimationMapInfo;\nuniform float u_skinnedAnimationInfo;\nuniform float u_lightCountFA;\nuniform vec4 u_lightPosFA[4];\nuniform vec4 u_lightColorFA[4];\nuniform vec4 u_lightAttenFA[4];\nuniform vec4 u_spotDirFA[4];\n\n\nuniform mat4 u_view;\nuniform mat4 u_viewInverse;\nuniform mat4 u_vp;\nuniform mat4 u_projection;\nuniform mat4 u_lightSpaceMatrix;\nuniform vec4 u_fogInfos;\nuniform vec3 u_fogColor;\nuniform float u_gameTime;\nuniform float u_aspect;\nuniform vec3 u_ambientLight;\nuniform vec3 u_lightDir;\nuniform vec3 u_lightColor;\nuniform vec3 u_shadowColor;\nuniform float u_shadowStrength;\nuniform float u_shadowBias;\nuniform float u_lightWidthPCSS;\nuniform float u_blockSizePCSS;\nuniform vec4 u_csmFarBounds;\nuniform vec4 u_shadowTilingOffsets[4];\nuniform mat4 u_csmLightSpaceMatrices[4];\nuniform vec3 u_SH[9];\n\n\nuniform highp sampler2D u_skinnedAnimationMap;\n\nattribute vec4 a_position;\nattribute vec4 a_boneWeight;\nattribute vec4 a_boneIndex;\nvarying float varying_PositionZ;\n\nvoid main()\n{\n    float _691 = u_skinnedAnimationInfo * u_skinnedAnimationMapInfo.z;\n    float _697 = (3.0 * (_691 + a_boneIndex.x)) + u_skinnedAnimationMapInfo.w;\n    float _700 = 1.0 / u_skinnedAnimationMapInfo.x;\n    float _704 = floor(_697 * _700);\n    float _710 = _697 - (_704 * u_skinnedAnimationMapInfo.x);\n    float _715 = (_704 + 0.5) / u_skinnedAnimationMapInfo.y;\n    vec4 _725 = texture2D(u_skinnedAnimationMap, vec2((_710 + 0.5) * _700, _715));\n    vec4 _735 = texture2D(u_skinnedAnimationMap, vec2((_710 + 1.5) * _700, _715));\n    vec4 _745 = texture2D(u_skinnedAnimationMap, vec2((_710 + 2.5) * _700, _715));\n    float _796 = (3.0 * (_691 + a_boneIndex.y)) + u_skinnedAnimationMapInfo.w;\n    float _803 = floor(_796 * _700);\n    float _809 = _796 - (_803 * u_skinnedAnimationMapInfo.x);\n    float _814 = (_803 + 0.5) / u_skinnedAnimationMapInfo.y;\n    vec4 _824 = texture2D(u_skinnedAnimationMap, vec2((_809 + 0.5) * _700, _814));\n    vec4 _834 = texture2D(u_skinnedAnimationMap, vec2((_809 + 1.5) * _700, _814));\n    vec4 _844 = texture2D(u_skinnedAnimationMap, vec2((_809 + 2.5) * _700, _814));\n    float _895 = (3.0 * (_691 + a_boneIndex.z)) + u_skinnedAnimationMapInfo.w;\n    float _902 = floor(_895 * _700);\n    float _908 = _895 - (_902 * u_skinnedAnimationMapInfo.x);\n    float _913 = (_902 + 0.5) / u_skinnedAnimationMapInfo.y;\n    vec4 _923 = texture2D(u_skinnedAnimationMap, vec2((_908 + 0.5) * _700, _913));\n    vec4 _933 = texture2D(u_skinnedAnimationMap, vec2((_908 + 1.5) * _700, _913));\n    vec4 _943 = texture2D(u_skinnedAnimationMap, vec2((_908 + 2.5) * _700, _913));\n    float _994 = (3.0 * (_691 + a_boneIndex.w)) + u_skinnedAnimationMapInfo.w;\n    float _1001 = floor(_994 * _700);\n    float _1007 = _994 - (_1001 * u_skinnedAnimationMapInfo.x);\n    float _1012 = (_1001 + 0.5) / u_skinnedAnimationMapInfo.y;\n    vec4 _1022 = texture2D(u_skinnedAnimationMap, vec2((_1007 + 0.5) * _700, _1012));\n    vec4 _1032 = texture2D(u_skinnedAnimationMap, vec2((_1007 + 1.5) * _700, _1012));\n    vec4 _1042 = texture2D(u_skinnedAnimationMap, vec2((_1007 + 2.5) * _700, _1012));\n    mat4 _587 = mat4(vec4(_725.xyz, 0.0), vec4(_735.xyz, 0.0), vec4(_745.xyz, 0.0), vec4(_725.w, _735.w, _745.w, 1.0)) * a_boneWeight.x;\n    mat4 _591 = mat4(vec4(_824.xyz, 0.0), vec4(_834.xyz, 0.0), vec4(_844.xyz, 0.0), vec4(_824.w, _834.w, _844.w, 1.0)) * a_boneWeight.y;\n    mat4 _609 = mat4(vec4(_923.xyz, 0.0), vec4(_933.xyz, 0.0), vec4(_943.xyz, 0.0), vec4(_923.w, _933.w, _943.w, 1.0)) * a_boneWeight.z;\n    mat4 _627 = mat4(vec4(_1022.xyz, 0.0), vec4(_1032.xyz, 0.0), vec4(_1042.xyz, 0.0), vec4(_1022.w, _1032.w, _1042.w, 1.0)) * a_boneWeight.w;\n    vec4 _504 = u_lightSpaceMatrix * (u_world * (mat4(((_587[0] + _591[0]) + _609[0]) + _627[0], ((_587[1] + _591[1]) + _609[1]) + _627[1], ((_587[2] + _591[2]) + _609[2]) + _627[2], ((_587[3] + _591[3]) + _609[3]) + _627[3]) * a_position));\n    gl_Position = _504;\n    varying_PositionZ = _504.z / _504.w;\n}\n\n","#version 100\n\nuniform mat4 u_world;\nuniform vec4 u_lightMapScaleOffset;\nuniform mat4 u_bindTargetWorldInverse;\nuniform vec4 u_boneOffsetMatrix[288];\nuniform float u_lightCountFA;\nuniform vec4 u_lightPosFA[4];\nuniform vec4 u_lightColorFA[4];\nuniform vec4 u_lightAttenFA[4];\nuniform vec4 u_spotDirFA[4];\n\n\nuniform mat4 u_view;\nuniform mat4 u_viewInverse;\nuniform mat4 u_vp;\nuniform mat4 u_projection;\nuniform mat4 u_lightSpaceMatrix;\nuniform vec4 u_fogInfos;\nuniform vec3 u_fogColor;\nuniform float u_gameTime;\nuniform float u_aspect;\nuniform vec3 u_ambientLight;\nuniform vec3 u_lightDir;\nuniform vec3 u_lightColor;\nuniform vec3 u_shadowColor;\nuniform float u_shadowStrength;\nuniform float u_shadowBias;\nuniform float u_lightWidthPCSS;\nuniform float u_blockSizePCSS;\nuniform vec4 u_csmFarBounds;\nuniform vec4 u_shadowTilingOffsets[4];\nuniform mat4 u_csmLightSpaceMatrices[4];\nuniform vec3 u_SH[9];\n\n\nattribute vec4 a_position;\nattribute vec4 a_boneWeight;\nattribute vec4 a_boneIndex;\nvarying float varying_PositionZ;\n\nvoid main()\n{\n    int _646 = int(a_boneIndex.x) * 3;\n    int _651 = _646 + 1;\n    int _655 = _646 + 2;\n    int _697 = int(a_boneIndex.y) * 3;\n    int _702 = _697 + 1;\n    int _706 = _697 + 2;\n    int _748 = int(a_boneIndex.z) * 3;\n    int _753 = _748 + 1;\n    int _757 = _748 + 2;\n    int _799 = int(a_boneIndex.w) * 3;\n    int _804 = _799 + 1;\n    int _808 = _799 + 2;\n    mat4 _543 = mat4(vec4(u_boneOffsetMatrix[_646].xyz, 0.0), vec4(u_boneOffsetMatrix[_651].xyz, 0.0), vec4(u_boneOffsetMatrix[_655].xyz, 0.0), vec4(u_boneOffsetMatrix[_646].w, u_boneOffsetMatrix[_651].w, u_boneOffsetMatrix[_655].w, 1.0)) * a_boneWeight.x;\n    mat4 _547 = mat4(vec4(u_boneOffsetMatrix[_697].xyz, 0.0), vec4(u_boneOffsetMatrix[_702].xyz, 0.0), vec4(u_boneOffsetMatrix[_706].xyz, 0.0), vec4(u_boneOffsetMatrix[_697].w, u_boneOffsetMatrix[_702].w, u_boneOffsetMatrix[_706].w, 1.0)) * a_boneWeight.y;\n    mat4 _565 = mat4(vec4(u_boneOffsetMatrix[_748].xyz, 0.0), vec4(u_boneOffsetMatrix[_753].xyz, 0.0), vec4(u_boneOffsetMatrix[_757].xyz, 0.0), vec4(u_boneOffsetMatrix[_748].w, u_boneOffsetMatrix[_753].w, u_boneOffsetMatrix[_757].w, 1.0)) * a_boneWeight.z;\n    mat4 _583 = mat4(vec4(u_boneOffsetMatrix[_799].xyz, 0.0), vec4(u_boneOffsetMatrix[_804].xyz, 0.0), vec4(u_boneOffsetMatrix[_808].xyz, 0.0), vec4(u_boneOffsetMatrix[_799].w, u_boneOffsetMatrix[_804].w, u_boneOffsetMatrix[_808].w, 1.0)) * a_boneWeight.w;\n    vec4 _458 = u_lightSpaceMatrix * (u_world * ((u_bindTargetWorldInverse * mat4(((_543[0] + _547[0]) + _565[0]) + _583[0], ((_543[1] + _547[1]) + _565[1]) + _583[1], ((_543[2] + _547[2]) + _565[2]) + _583[2], ((_543[3] + _547[3]) + _565[3]) + _583[3])) * a_position));\n    gl_Position = _458;\n    varying_PositionZ = _458.z / _458.w;\n}\n\n","#version 100\n\nuniform mat4 u_world;\nuniform vec4 u_lightMapScaleOffset;\nuniform float u_lightCountFA;\nuniform vec4 u_lightPosFA[4];\nuniform vec4 u_lightColorFA[4];\nuniform vec4 u_lightAttenFA[4];\nuniform vec4 u_spotDirFA[4];\n\n\nuniform mat4 u_view;\nuniform mat4 u_viewInverse;\nuniform mat4 u_vp;\nuniform mat4 u_projection;\nuniform mat4 u_lightSpaceMatrix;\nuniform vec4 u_fogInfos;\nuniform vec3 u_fogColor;\nuniform float u_gameTime;\nuniform float u_aspect;\nuniform vec3 u_ambientLight;\nuniform vec3 u_lightDir;\nuniform vec3 u_lightColor;\nuniform vec3 u_shadowColor;\nuniform float u_shadowStrength;\nuniform float u_shadowBias;\nuniform float u_lightWidthPCSS;\nuniform float u_blockSizePCSS;\nuniform vec4 u_csmFarBounds;\nuniform vec4 u_shadowTilingOffsets[4];\nuniform mat4 u_csmLightSpaceMatrices[4];\nuniform vec3 u_SH[9];\n\n\nattribute vec4 a_position;\nvarying float varying_PositionZ;\n\nvoid main()\n{\n    vec4 _277 = u_lightSpaceMatrix * (u_world * a_position);\n    gl_Position = _277;\n    varying_PositionZ = _277.z / _277.w;\n}\n\n","#version 100\n\nuniform mat4 u_world;\nuniform vec4 u_lightMapScaleOffset;\nuniform vec4 u_boneOffsetMatrix[288];\nuniform float u_lightCountFA;\nuniform vec4 u_lightPosFA[4];\nuniform vec4 u_lightColorFA[4];\nuniform vec4 u_lightAttenFA[4];\nuniform vec4 u_spotDirFA[4];\n\n\nuniform mat4 u_view;\nuniform mat4 u_viewInverse;\nuniform mat4 u_vp;\nuniform mat4 u_projection;\nuniform mat4 u_lightSpaceMatrix;\nuniform vec4 u_fogInfos;\nuniform vec3 u_fogColor;\nuniform float u_gameTime;\nuniform float u_aspect;\nuniform vec3 u_ambientLight;\nuniform vec3 u_lightDir;\nuniform vec3 u_lightColor;\nuniform vec3 u_shadowColor;\nuniform float u_shadowStrength;\nuniform float u_shadowBias;\nuniform float u_lightWidthPCSS;\nuniform float u_blockSizePCSS;\nuniform vec4 u_csmFarBounds;\nuniform vec4 u_shadowTilingOffsets[4];\nuniform mat4 u_csmLightSpaceMatrices[4];\nuniform vec3 u_SH[9];\n\n\nattribute vec4 a_position;\nattribute vec4 a_boneWeight;\nattribute vec4 a_boneIndex;\nvarying float varying_PositionZ;\n\nvoid main()\n{\n    int _638 = int(a_boneIndex.x) * 3;\n    int _643 = _638 + 1;\n    int _647 = _638 + 2;\n    int _689 = int(a_boneIndex.y) * 3;\n    int _694 = _689 + 1;\n    int _698 = _689 + 2;\n    int _740 = int(a_boneIndex.z) * 3;\n    int _745 = _740 + 1;\n    int _749 = _740 + 2;\n    int _791 = int(a_boneIndex.w) * 3;\n    int _796 = _791 + 1;\n    int _800 = _791 + 2;\n    mat4 _539 = mat4(vec4(u_boneOffsetMatrix[_638].xyz, 0.0), vec4(u_boneOffsetMatrix[_643].xyz, 0.0), vec4(u_boneOffsetMatrix[_647].xyz, 0.0), vec4(u_boneOffsetMatrix[_638].w, u_boneOffsetMatrix[_643].w, u_boneOffsetMatrix[_647].w, 1.0)) * a_boneWeight.x;\n    mat4 _543 = mat4(vec4(u_boneOffsetMatrix[_689].xyz, 0.0), vec4(u_boneOffsetMatrix[_694].xyz, 0.0), vec4(u_boneOffsetMatrix[_698].xyz, 0.0), vec4(u_boneOffsetMatrix[_689].w, u_boneOffsetMatrix[_694].w, u_boneOffsetMatrix[_698].w, 1.0)) * a_boneWeight.y;\n    mat4 _561 = mat4(vec4(u_boneOffsetMatrix[_740].xyz, 0.0), vec4(u_boneOffsetMatrix[_745].xyz, 0.0), vec4(u_boneOffsetMatrix[_749].xyz, 0.0), vec4(u_boneOffsetMatrix[_740].w, u_boneOffsetMatrix[_745].w, u_boneOffsetMatrix[_749].w, 1.0)) * a_boneWeight.z;\n    mat4 _579 = mat4(vec4(u_boneOffsetMatrix[_791].xyz, 0.0), vec4(u_boneOffsetMatrix[_796].xyz, 0.0), vec4(u_boneOffsetMatrix[_800].xyz, 0.0), vec4(u_boneOffsetMatrix[_791].w, u_boneOffsetMatrix[_796].w, u_boneOffsetMatrix[_800].w, 1.0)) * a_boneWeight.w;\n    vec4 _454 = u_lightSpaceMatrix * (u_world * (mat4(((_539[0] + _543[0]) + _561[0]) + _579[0], ((_539[1] + _543[1]) + _561[1]) + _579[1], ((_539[2] + _543[2]) + _561[2]) + _579[2], ((_539[3] + _543[3]) + _561[3]) + _579[3]) * a_position));\n    gl_Position = _454;\n    varying_PositionZ = _454.z / _454.w;\n}\n\n","#version 100\n\nuniform mat4 u_world;\nuniform vec4 u_lightMapScaleOffset;\nuniform vec4 u_skinnedAnimationMapInfo;\nuniform float u_skinnedAnimationInfo;\nuniform float u_lightCountFA;\nuniform vec4 u_lightPosFA[4];\nuniform vec4 u_lightColorFA[4];\nuniform vec4 u_lightAttenFA[4];\nuniform vec4 u_spotDirFA[4];\n\n\nuniform mat4 u_view;\nuniform mat4 u_viewInverse;\nuniform mat4 u_vp;\nuniform mat4 u_projection;\nuniform mat4 u_lightSpaceMatrix;\nuniform vec4 u_fogInfos;\nuniform vec3 u_fogColor;\nuniform float u_gameTime;\nuniform float u_aspect;\nuniform vec3 u_ambientLight;\nuniform vec3 u_lightDir;\nuniform vec3 u_lightColor;\nuniform vec3 u_shadowColor;\nuniform float u_shadowStrength;\nuniform float u_shadowBias;\nuniform float u_lightWidthPCSS;\nuniform float u_blockSizePCSS;\nuniform vec4 u_csmFarBounds;\nuniform vec4 u_shadowTilingOffsets[4];\nuniform mat4 u_csmLightSpaceMatrices[4];\nuniform vec3 u_SH[9];\n\n\nuniform highp sampler2D u_skinnedAnimationMap;\n\nattribute vec4 a_position;\nattribute vec4 a_boneWeight;\nattribute vec4 a_boneIndex;\nvarying float varying_PositionZ;\n\nvoid main()\n{\n    float _695 = u_skinnedAnimationInfo * u_skinnedAnimationMapInfo.z;\n    float _701 = (3.0 * (_695 + a_boneIndex.x)) + u_skinnedAnimationMapInfo.w;\n    float _704 = 1.0 / u_skinnedAnimationMapInfo.x;\n    float _708 = floor(_701 * _704);\n    float _714 = _701 - (_708 * u_skinnedAnimationMapInfo.x);\n    float _719 = (_708 + 0.5) / u_skinnedAnimationMapInfo.y;\n    vec4 _729 = texture2D(u_skinnedAnimationMap, vec2((_714 + 0.5) * _704, _719));\n    vec4 _739 = texture2D(u_skinnedAnimationMap, vec2((_714 + 1.5) * _704, _719));\n    vec4 _749 = texture2D(u_skinnedAnimationMap, vec2((_714 + 2.5) * _704, _719));\n    float _800 = (3.0 * (_695 + a_boneIndex.y)) + u_skinnedAnimationMapInfo.w;\n    float _807 = floor(_800 * _704);\n    float _813 = _800 - (_807 * u_skinnedAnimationMapInfo.x);\n    float _818 = (_807 + 0.5) / u_skinnedAnimationMapInfo.y;\n    vec4 _828 = texture2D(u_skinnedAnimationMap, vec2((_813 + 0.5) * _704, _818));\n    vec4 _838 = texture2D(u_skinnedAnimationMap, vec2((_813 + 1.5) * _704, _818));\n    vec4 _848 = texture2D(u_skinnedAnimationMap, vec2((_813 + 2.5) * _704, _818));\n    float _899 = (3.0 * (_695 + a_boneIndex.z)) + u_skinnedAnimationMapInfo.w;\n    float _906 = floor(_899 * _704);\n    float _912 = _899 - (_906 * u_skinnedAnimationMapInfo.x);\n    float _917 = (_906 + 0.5) / u_skinnedAnimationMapInfo.y;\n    vec4 _927 = texture2D(u_skinnedAnimationMap, vec2((_912 + 0.5) * _704, _917));\n    vec4 _937 = texture2D(u_skinnedAnimationMap, vec2((_912 + 1.5) * _704, _917));\n    vec4 _947 = texture2D(u_skinnedAnimationMap, vec2((_912 + 2.5) * _704, _917));\n    float _998 = (3.0 * (_695 + a_boneIndex.w)) + u_skinnedAnimationMapInfo.w;\n    float _1005 = floor(_998 * _704);\n    float _1011 = _998 - (_1005 * u_skinnedAnimationMapInfo.x);\n    float _1016 = (_1005 + 0.5) / u_skinnedAnimationMapInfo.y;\n    vec4 _1026 = texture2D(u_skinnedAnimationMap, vec2((_1011 + 0.5) * _704, _1016));\n    vec4 _1036 = texture2D(u_skinnedAnimationMap, vec2((_1011 + 1.5) * _704, _1016));\n    vec4 _1046 = texture2D(u_skinnedAnimationMap, vec2((_1011 + 2.5) * _704, _1016));\n    mat4 _591 = mat4(vec4(_729.xyz, 0.0), vec4(_739.xyz, 0.0), vec4(_749.xyz, 0.0), vec4(_729.w, _739.w, _749.w, 1.0)) * a_boneWeight.x;\n    mat4 _595 = mat4(vec4(_828.xyz, 0.0), vec4(_838.xyz, 0.0), vec4(_848.xyz, 0.0), vec4(_828.w, _838.w, _848.w, 1.0)) * a_boneWeight.y;\n    mat4 _613 = mat4(vec4(_927.xyz, 0.0), vec4(_937.xyz, 0.0), vec4(_947.xyz, 0.0), vec4(_927.w, _937.w, _947.w, 1.0)) * a_boneWeight.z;\n    mat4 _631 = mat4(vec4(_1026.xyz, 0.0), vec4(_1036.xyz, 0.0), vec4(_1046.xyz, 0.0), vec4(_1026.w, _1036.w, _1046.w, 1.0)) * a_boneWeight.w;\n    vec4 _506 = u_lightSpaceMatrix * (u_world * (mat4(((_591[0] + _595[0]) + _613[0]) + _631[0], ((_591[1] + _595[1]) + _613[1]) + _631[1], ((_591[2] + _595[2]) + _613[2]) + _631[2], ((_591[3] + _595[3]) + _613[3]) + _631[3]) * a_position));\n    gl_Position = _506;\n    varying_PositionZ = _506.z / _506.w;\n}\n\n"],"uniformBlocks":[],"strings":[],"sourceAsset":{"name":"System::Effect::ShadowCasterFallBack","shaderProperties":[],"textures":[],"defaultRenderQueue":2000,"passes":[{"lightMode":"ShadowCaster","vs":"./shadowCasterFallBack.vertex.hlsl","ps":"./shadowCasterFallBack.pixel.hlsl","compileFlags":["Skin","SkinnedAnimation"],"multiCompile":[],"useMaterialRenderStates":true,"renderStates":{"blendOn":false,"cullOn":true,"cullFace":"BACK"}}],"editorInfo":{"assetVersion":2}}}